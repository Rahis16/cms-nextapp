{
    "sourceFile": "app/editProfile/page.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 62,
            "patches": [
                {
                    "date": 1749105085312,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1749105102440,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,92 @@\n+'use client';\r\n+\r\n+import { useState, useEffect } from 'react';\r\n+import { axiosWithCsrf } from '@/lib/axiosWithCsrf';\r\n+import { useRouter } from 'next/navigation';\r\n+import BackButton from '@/components/BackButton';\r\n+\r\n+export default function EditProfilePage() {\r\n+  const [form, setForm] = useState({\r\n+    full_name: '',\r\n+    lcid: '',\r\n+    email: '',\r\n+    phone: '',\r\n+    section: '',\r\n+    faculty: '',\r\n+    program: '',\r\n+    profile_pic: null as File | null,\r\n+  });\r\n+\r\n+  const [loading, setLoading] = useState(false);\r\n+  const [error, setError] = useState<string | null>(null);\r\n+  const [success, setSuccess] = useState<string | null>(null);\r\n+\r\n+  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n+    const { name, value, files } = e.target as any;\r\n+    setForm(prev => ({\r\n+      ...prev,\r\n+      [name]: files ? files[0] : value,\r\n+    }));\r\n+  };\r\n+\r\n+  const handleSubmit = async (e: React.FormEvent) => {\r\n+    e.preventDefault();\r\n+    setLoading(true);\r\n+    setError(null);\r\n+    setSuccess(null);\r\n+\r\n+    try {\r\n+      const formData = new FormData();\r\n+      for (const key in form) {\r\n+        if (form[key as keyof typeof form]) {\r\n+          formData.append(key, form[key as keyof typeof form] as any);\r\n+        }\r\n+      }\r\n+\r\n+      const res = await axiosWithCsrf.post('/api/profile/update/', formData, {\r\n+        headers: {\r\n+          'Content-Type': 'multipart/form-data',\r\n+        },\r\n+      });\r\n+\r\n+      setSuccess('Profile updated successfully!');\r\n+    } catch (err: any) {\r\n+      setError(err.response?.data?.message || 'Profile update failed.');\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"max-w-3xl mx-auto px-4 py-6\">\r\n+      <h1 className=\"text-2xl font-bold mb-4 text-blue-700\">Edit Profile</h1>\r\n+\r\n+      <BackButton />\r\n+\r\n+      {error && <p className=\"text-red-500 mb-4\">{error}</p>}\r\n+      {success && <p className=\"text-green-600 mb-4\">{success}</p>}\r\n+\r\n+      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n+        <input type=\"text\" name=\"full_name\" placeholder=\"Full Name\" value={form.full_name} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <input type=\"text\" name=\"lcid\" placeholder=\"LCID\" value={form.lcid} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <input type=\"email\" name=\"email\" placeholder=\"Email\" value={form.email} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <input type=\"text\" name=\"phone\" placeholder=\"Phone Number\" value={form.phone} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <input type=\"text\" name=\"section\" placeholder=\"Section\" value={form.section} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <input type=\"text\" name=\"faculty\" placeholder=\"Faculty\" value={form.faculty} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <input type=\"text\" name=\"program\" placeholder=\"Program\" value={form.program} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <input type=\"file\" name=\"profile_pic\" accept=\"image/*\" onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <button type=\"submit\" disabled={loading} className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition\">\r\n+          {loading ? 'Updating...' : 'Update Profile'}\r\n+        </button>\r\n+      </form>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1749105651919,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,91 @@\n+'use client';\r\n+\r\n+import { useState, useEffect } from 'react';\r\n+import { axiosWithCsrf } from '@/lib/axiosWithCsrf';\r\n+import { useRouter } from 'next/navigation';\r\n+import BackButton from '@/components/BackButton';\r\n+\r\n+export default function EditProfilePage() {\r\n+  const [form, setForm] = useState({\r\n+    full_name: '',\r\n+    lcid: '',\r\n+    phone: '',\r\n+    section: '',\r\n+    faculty: '',\r\n+    program: '',\r\n+    profile_pic: null as File | null,\r\n+  });\r\n+\r\n+  const [loading, setLoading] = useState(false);\r\n+  const [error, setError] = useState<string | null>(null);\r\n+  const [success, setSuccess] = useState<string | null>(null);\r\n+\r\n+  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n+    const { name, value, files } = e.target as any;\r\n+    setForm(prev => ({\r\n+      ...prev,\r\n+      [name]: files ? files[0] : value,\r\n+    }));\r\n+  };\r\n+\r\n+  const handleSubmit = async (e: React.FormEvent) => {\r\n+    e.preventDefault();\r\n+    setLoading(true);\r\n+    setError(null);\r\n+    setSuccess(null);\r\n+\r\n+    try {\r\n+      const formData = new FormData();\r\n+      for (const key in form) {\r\n+        if (form[key as keyof typeof form]) {\r\n+          formData.append(key, form[key as keyof typeof form] as any);\r\n+        }\r\n+      }\r\n+\r\n+      const res = await axiosWithCsrf.post('/api/profile/update/', formData, {\r\n+        headers: {\r\n+          'Content-Type': 'multipart/form-data',\r\n+        },\r\n+      });\r\n+\r\n+      setSuccess('Profile updated successfully!');\r\n+    } catch (err: any) {\r\n+      setError(err.response?.data?.message || 'Profile update failed.');\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"max-w-3xl mx-auto px-4 py-6\">\r\n+      <h1 className=\"text-2xl font-bold mb-4 text-blue-700\">Edit Profile</h1>\r\n+\r\n+      <BackButton />\r\n+\r\n+      {error && <p className=\"text-red-500 mb-4\">{error}</p>}\r\n+      {success && <p className=\"text-green-600 mb-4\">{success}</p>}\r\n+\r\n+      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n+        <input type=\"text\" name=\"full_name\" placeholder=\"Full Name\" value={form.full_name} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <input type=\"text\" name=\"lcid\" placeholder=\"LCID\" value={form.lcid} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <input type=\"email\" name=\"email\" placeholder=\"Email\" value={form.email} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <input type=\"text\" name=\"phone\" placeholder=\"Phone Number\" value={form.phone} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <input type=\"text\" name=\"section\" placeholder=\"Section\" value={form.section} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <input type=\"text\" name=\"faculty\" placeholder=\"Faculty\" value={form.faculty} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <input type=\"text\" name=\"program\" placeholder=\"Program\" value={form.program} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <input type=\"file\" name=\"profile_pic\" accept=\"image/*\" onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <button type=\"submit\" disabled={loading} className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition\">\r\n+          {loading ? 'Updating...' : 'Update Profile'}\r\n+        </button>\r\n+      </form>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1749105666894,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -69,10 +69,8 @@\n         <input type=\"text\" name=\"full_name\" placeholder=\"Full Name\" value={form.full_name} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n \r\n         <input type=\"text\" name=\"lcid\" placeholder=\"LCID\" value={form.lcid} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n \r\n-        <input type=\"email\" name=\"email\" placeholder=\"Email\" value={form.email} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n         <input type=\"text\" name=\"phone\" placeholder=\"Phone Number\" value={form.phone} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n \r\n         <input type=\"text\" name=\"section\" placeholder=\"Section\" value={form.section} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n \r\n@@ -88,188 +86,4 @@\n       </form>\r\n     </div>\r\n   );\r\n }\r\n-'use client';\r\n-\r\n-import { useState, useEffect } from 'react';\r\n-import { axiosWithCsrf } from '@/lib/axiosWithCsrf';\r\n-import { useRouter } from 'next/navigation';\r\n-import BackButton from '@/components/BackButton';\r\n-\r\n-export default function EditProfilePage() {\r\n-  const [form, setForm] = useState({\r\n-    full_name: '',\r\n-    lcid: '',\r\n-    email: '',\r\n-    phone: '',\r\n-    section: '',\r\n-    faculty: '',\r\n-    program: '',\r\n-    profile_pic: null as File | null,\r\n-  });\r\n-\r\n-  const [loading, setLoading] = useState(false);\r\n-  const [error, setError] = useState<string | null>(null);\r\n-  const [success, setSuccess] = useState<string | null>(null);\r\n-\r\n-  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n-    const { name, value, files } = e.target as any;\r\n-    setForm(prev => ({\r\n-      ...prev,\r\n-      [name]: files ? files[0] : value,\r\n-    }));\r\n-  };\r\n-\r\n-  const handleSubmit = async (e: React.FormEvent) => {\r\n-    e.preventDefault();\r\n-    setLoading(true);\r\n-    setError(null);\r\n-    setSuccess(null);\r\n-\r\n-    try {\r\n-      const formData = new FormData();\r\n-      for (const key in form) {\r\n-        if (form[key as keyof typeof form]) {\r\n-          formData.append(key, form[key as keyof typeof form] as any);\r\n-        }\r\n-      }\r\n-\r\n-      const res = await axiosWithCsrf.post('/api/profile/update/', formData, {\r\n-        headers: {\r\n-          'Content-Type': 'multipart/form-data',\r\n-        },\r\n-      });\r\n-\r\n-      setSuccess('Profile updated successfully!');\r\n-    } catch (err: any) {\r\n-      setError(err.response?.data?.message || 'Profile update failed.');\r\n-    } finally {\r\n-      setLoading(false);\r\n-    }\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"max-w-3xl mx-auto px-4 py-6\">\r\n-      <h1 className=\"text-2xl font-bold mb-4 text-blue-700\">Edit Profile</h1>\r\n-\r\n-      <BackButton />\r\n-\r\n-      {error && <p className=\"text-red-500 mb-4\">{error}</p>}\r\n-      {success && <p className=\"text-green-600 mb-4\">{success}</p>}\r\n-\r\n-      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n-        <input type=\"text\" name=\"full_name\" placeholder=\"Full Name\" value={form.full_name} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"text\" name=\"lcid\" placeholder=\"LCID\" value={form.lcid} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"email\" name=\"email\" placeholder=\"Email\" value={form.email} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"text\" name=\"phone\" placeholder=\"Phone Number\" value={form.phone} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"text\" name=\"section\" placeholder=\"Section\" value={form.section} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"text\" name=\"faculty\" placeholder=\"Faculty\" value={form.faculty} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"text\" name=\"program\" placeholder=\"Program\" value={form.program} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"file\" name=\"profile_pic\" accept=\"image/*\" onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <button type=\"submit\" disabled={loading} className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition\">\r\n-          {loading ? 'Updating...' : 'Update Profile'}\r\n-        </button>\r\n-      </form>\r\n-    </div>\r\n-  );\r\n-}\r\n-'use client';\r\n-\r\n-import { useState, useEffect } from 'react';\r\n-import { axiosWithCsrf } from '@/lib/axiosWithCsrf';\r\n-import { useRouter } from 'next/navigation';\r\n-import BackButton from '@/components/BackButton';\r\n-\r\n-export default function EditProfilePage() {\r\n-  const [form, setForm] = useState({\r\n-    full_name: '',\r\n-    lcid: '',\r\n-    email: '',\r\n-    phone: '',\r\n-    section: '',\r\n-    faculty: '',\r\n-    program: '',\r\n-    profile_pic: null as File | null,\r\n-  });\r\n-\r\n-  const [loading, setLoading] = useState(false);\r\n-  const [error, setError] = useState<string | null>(null);\r\n-  const [success, setSuccess] = useState<string | null>(null);\r\n-\r\n-  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n-    const { name, value, files } = e.target as any;\r\n-    setForm(prev => ({\r\n-      ...prev,\r\n-      [name]: files ? files[0] : value,\r\n-    }));\r\n-  };\r\n-\r\n-  const handleSubmit = async (e: React.FormEvent) => {\r\n-    e.preventDefault();\r\n-    setLoading(true);\r\n-    setError(null);\r\n-    setSuccess(null);\r\n-\r\n-    try {\r\n-      const formData = new FormData();\r\n-      for (const key in form) {\r\n-        if (form[key as keyof typeof form]) {\r\n-          formData.append(key, form[key as keyof typeof form] as any);\r\n-        }\r\n-      }\r\n-\r\n-      const res = await axiosWithCsrf.post('/api/profile/update/', formData, {\r\n-        headers: {\r\n-          'Content-Type': 'multipart/form-data',\r\n-        },\r\n-      });\r\n-\r\n-      setSuccess('Profile updated successfully!');\r\n-    } catch (err: any) {\r\n-      setError(err.response?.data?.message || 'Profile update failed.');\r\n-    } finally {\r\n-      setLoading(false);\r\n-    }\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"max-w-3xl mx-auto px-4 py-6\">\r\n-      <h1 className=\"text-2xl font-bold mb-4 text-blue-700\">Edit Profile</h1>\r\n-\r\n-      <BackButton />\r\n-\r\n-      {error && <p className=\"text-red-500 mb-4\">{error}</p>}\r\n-      {success && <p className=\"text-green-600 mb-4\">{success}</p>}\r\n-\r\n-      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n-        <input type=\"text\" name=\"full_name\" placeholder=\"Full Name\" value={form.full_name} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"text\" name=\"lcid\" placeholder=\"LCID\" value={form.lcid} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"email\" name=\"email\" placeholder=\"Email\" value={form.email} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"text\" name=\"phone\" placeholder=\"Phone Number\" value={form.phone} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"text\" name=\"section\" placeholder=\"Section\" value={form.section} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"text\" name=\"faculty\" placeholder=\"Faculty\" value={form.faculty} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"text\" name=\"program\" placeholder=\"Program\" value={form.program} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"file\" name=\"profile_pic\" accept=\"image/*\" onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <button type=\"submit\" disabled={loading} className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition\">\r\n-          {loading ? 'Updating...' : 'Update Profile'}\r\n-        </button>\r\n-      </form>\r\n-    </div>\r\n-  );\r\n-}\r\n"
                },
                {
                    "date": 1749105675766,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,89 @@\n+'use client';\r\n+\r\n+import { useState, useEffect } from 'react';\r\n+import { axiosWithCsrf } from '@/lib/axiosWithCsrf';\r\n+import { useRouter } from 'next/navigation';\r\n+import BackButton from '@/components/BackButton';\r\n+\r\n+export default function EditProfilePage() {\r\n+  const [form, setForm] = useState({\r\n+    full_name: '',\r\n+    lcid: '',\r\n+    phone: '',\r\n+    section: '',\r\n+    faculty: '',\r\n+    program: '',\r\n+    profile_pic: null as File | null,\r\n+  });\r\n+\r\n+  const [loading, setLoading] = useState(false);\r\n+  const [error, setError] = useState<string | null>(null);\r\n+  const [success, setSuccess] = useState<string | null>(null);\r\n+\r\n+  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n+    const { name, value, files } = e.target as any;\r\n+    setForm(prev => ({\r\n+      ...prev,\r\n+      [name]: files ? files[0] : value,\r\n+    }));\r\n+  };\r\n+\r\n+  const handleSubmit = async (e: React.FormEvent) => {\r\n+    e.preventDefault();\r\n+    setLoading(true);\r\n+    setError(null);\r\n+    setSuccess(null);\r\n+\r\n+    try {\r\n+      const formData = new FormData();\r\n+      for (const key in form) {\r\n+        if (form[key as keyof typeof form]) {\r\n+          formData.append(key, form[key as keyof typeof form] as any);\r\n+        }\r\n+      }\r\n+\r\n+      const res = await axiosWithCsrf.post('/api/profile/update/', formData, {\r\n+        headers: {\r\n+          'Content-Type': 'multipart/form-data',\r\n+        },\r\n+      });\r\n+\r\n+      setSuccess('Profile updated successfully!');\r\n+    } catch (err: any) {\r\n+      setError(err.response?.data?.message || 'Profile update failed.');\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"max-w-3xl mx-auto px-4 py-6\">\r\n+      <h1 className=\"text-2xl font-bold mb-4 text-blue-700\">Edit Profile</h1>\r\n+\r\n+      <BackButton />\r\n+\r\n+      {error && <p className=\"text-red-500 mb-4\">{error}</p>}\r\n+      {success && <p className=\"text-green-600 mb-4\">{success}</p>}\r\n+\r\n+      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n+        <input type=\"text\" name=\"full_name\" placeholder=\"Full Name\" value={form.full_name} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <input type=\"text\" name=\"lcid\" placeholder=\"LCID\" value={form.lcid} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <input type=\"text\" name=\"phone\" placeholder=\"Phone Number\" value={form.phone} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <input type=\"text\" name=\"section\" placeholder=\"Section\" value={form.section} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <input type=\"text\" name=\"faculty\" placeholder=\"Faculty\" value={form.faculty} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <input type=\"text\" name=\"program\" placeholder=\"Program\" value={form.program} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <input type=\"file\" name=\"profile_pic\" accept=\"image/*\" onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <button type=\"submit\" disabled={loading} className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition\">\r\n+          {loading ? 'Updating...' : 'Update Profile'}\r\n+        </button>\r\n+      </form>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1749105792036,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,89 @@\n+'use client';\r\n+\r\n+import { useState, useEffect } from 'react';\r\n+import { axiosWithCsrf } from '@/lib/axiosWithCsrf';\r\n+import { useRouter } from 'next/navigation';\r\n+import BackButton from '@/components/BackButton';\r\n+\r\n+export default function EditProfilePage() {\r\n+  const [form, setForm] = useState({\r\n+    full_name: '',\r\n+    lcid: '',\r\n+    phone_number: '',\r\n+    section: '',\r\n+    faculty: '',\r\n+    program: '',\r\n+    profile_pic: null as File | null,\r\n+  });\r\n+\r\n+  const [loading, setLoading] = useState(false);\r\n+  const [error, setError] = useState<string | null>(null);\r\n+  const [success, setSuccess] = useState<string | null>(null);\r\n+\r\n+  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n+    const { name, value, files } = e.target as any;\r\n+    setForm(prev => ({\r\n+      ...prev,\r\n+      [name]: files ? files[0] : value,\r\n+    }));\r\n+  };\r\n+\r\n+  const handleSubmit = async (e: React.FormEvent) => {\r\n+    e.preventDefault();\r\n+    setLoading(true);\r\n+    setError(null);\r\n+    setSuccess(null);\r\n+\r\n+    try {\r\n+      const formData = new FormData();\r\n+      for (const key in form) {\r\n+        if (form[key as keyof typeof form]) {\r\n+          formData.append(key, form[key as keyof typeof form] as any);\r\n+        }\r\n+      }\r\n+\r\n+      const res = await axiosWithCsrf.post('/api/profile/update/', formData, {\r\n+        headers: {\r\n+          'Content-Type': 'multipart/form-data',\r\n+        },\r\n+      });\r\n+\r\n+      setSuccess('Profile updated successfully!');\r\n+    } catch (err: any) {\r\n+      setError(err.response?.data?.message || 'Profile update failed.');\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"max-w-3xl mx-auto px-4 py-6\">\r\n+      <h1 className=\"text-2xl font-bold mb-4 text-blue-700\">Edit Profile</h1>\r\n+\r\n+      <BackButton />\r\n+\r\n+      {error && <p className=\"text-red-500 mb-4\">{error}</p>}\r\n+      {success && <p className=\"text-green-600 mb-4\">{success}</p>}\r\n+\r\n+      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n+        <input type=\"text\" name=\"full_name\" placeholder=\"Full Name\" value={form.full_name} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <input type=\"text\" name=\"lcid\" placeholder=\"LCID\" value={form.lcid} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <input type=\"text\" name=\"phone\" placeholder=\"Phone Number\" value={form.phone} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <input type=\"text\" name=\"section\" placeholder=\"Section\" value={form.section} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <input type=\"text\" name=\"faculty\" placeholder=\"Faculty\" value={form.faculty} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <input type=\"text\" name=\"program\" placeholder=\"Program\" value={form.program} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <input type=\"file\" name=\"profile_pic\" accept=\"image/*\" onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <button type=\"submit\" disabled={loading} className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition\">\r\n+          {loading ? 'Updating...' : 'Update Profile'}\r\n+        </button>\r\n+      </form>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1749105803653,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,89 @@\n+'use client';\r\n+\r\n+import { useState, useEffect } from 'react';\r\n+import { axiosWithCsrf } from '@/lib/axiosWithCsrf';\r\n+import { useRouter } from 'next/navigation';\r\n+import BackButton from '@/components/BackButton';\r\n+\r\n+export default function EditProfilePage() {\r\n+  const [form, setForm] = useState({\r\n+    full_name: '',\r\n+    lcid: '',\r\n+    phone_number: '',\r\n+    section: '',\r\n+    faculty: '',\r\n+    program: '',\r\n+    profile_pic: null as File | null,\r\n+  });\r\n+\r\n+  const [loading, setLoading] = useState(false);\r\n+  const [error, setError] = useState<string | null>(null);\r\n+  const [success, setSuccess] = useState<string | null>(null);\r\n+\r\n+  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n+    const { name, value, files } = e.target as any;\r\n+    setForm(prev => ({\r\n+      ...prev,\r\n+      [name]: files ? files[0] : value,\r\n+    }));\r\n+  };\r\n+\r\n+  const handleSubmit = async (e: React.FormEvent) => {\r\n+    e.preventDefault();\r\n+    setLoading(true);\r\n+    setError(null);\r\n+    setSuccess(null);\r\n+\r\n+    try {\r\n+      const formData = new FormData();\r\n+      for (const key in form) {\r\n+        if (form[key as keyof typeof form]) {\r\n+          formData.append(key, form[key as keyof typeof form] as any);\r\n+        }\r\n+      }\r\n+\r\n+      const res = await axiosWithCsrf.post('/api/profile/update/', formData, {\r\n+        headers: {\r\n+          'Content-Type': 'multipart/form-data',\r\n+        },\r\n+      });\r\n+\r\n+      setSuccess('Profile updated successfully!');\r\n+    } catch (err: any) {\r\n+      setError(err.response?.data?.message || 'Profile update failed.');\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"max-w-3xl mx-auto px-4 py-6\">\r\n+      <h1 className=\"text-2xl font-bold mb-4 text-blue-700\">Edit Profile</h1>\r\n+\r\n+      <BackButton />\r\n+\r\n+      {error && <p className=\"text-red-500 mb-4\">{error}</p>}\r\n+      {success && <p className=\"text-green-600 mb-4\">{success}</p>}\r\n+\r\n+      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n+        <input type=\"text\" name=\"full_name\" placeholder=\"Full Name\" value={form.full_name} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <input type=\"text\" name=\"lcid\" placeholder=\"LCID\" value={form.lcid} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <input type=\"text\" name=\"phone\" placeholder=\"Phone Number\" value={form.phone} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <input type=\"text\" name=\"section\" placeholder=\"Section\" value={form.section} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <input type=\"text\" name=\"faculty\" placeholder=\"Faculty\" value={form.faculty} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <input type=\"text\" name=\"program\" placeholder=\"Program\" value={form.program} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <input type=\"file\" name=\"profile_pic\" accept=\"image/*\" onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <button type=\"submit\" disabled={loading} className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition\">\r\n+          {loading ? 'Updating...' : 'Update Profile'}\r\n+        </button>\r\n+      </form>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1749105869226,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,89 @@\n+'use client';\r\n+\r\n+import { useState, useEffect } from 'react';\r\n+import { axiosWithCsrf } from '@/lib/axiosWithCsrf';\r\n+import { useRouter } from 'next/navigation';\r\n+import BackButton from '@/components/BackButton';\r\n+\r\n+export default function EditProfilePage() {\r\n+  const [form, setForm] = useState({\r\n+    full_name: '',\r\n+    lcid: '',\r\n+    phone_number: '',\r\n+    section: '',\r\n+    faculty: '',\r\n+    program: '',\r\n+    profile_pic: null as File | null,\r\n+  });\r\n+\r\n+  const [loading, setLoading] = useState(false);\r\n+  const [error, setError] = useState<string | null>(null);\r\n+  const [success, setSuccess] = useState<string | null>(null);\r\n+\r\n+  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n+    const { name, value, files } = e.target as any;\r\n+    setForm(prev => ({\r\n+      ...prev,\r\n+      [name]: files ? files[0] : value,\r\n+    }));\r\n+  };\r\n+\r\n+  const handleSubmit = async (e: React.FormEvent) => {\r\n+    e.preventDefault();\r\n+    setLoading(true);\r\n+    setError(null);\r\n+    setSuccess(null);\r\n+\r\n+    try {\r\n+      const formData = new FormData();\r\n+      for (const key in form) {\r\n+        if (form[key as keyof typeof form]) {\r\n+          formData.append(key, form[key as keyof typeof form] as any);\r\n+        }\r\n+      }\r\n+\r\n+      const res = await axiosWithCsrf.post('/api/edit-profile/', formData, {\r\n+        headers: {\r\n+          'Content-Type': 'multipart/form-data',\r\n+        },\r\n+      });\r\n+\r\n+      setSuccess('Profile updated successfully!');\r\n+    } catch (err: any) {\r\n+      setError(err.response?.data?.message || 'Profile update failed.');\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"max-w-3xl mx-auto px-4 py-6\">\r\n+      <h1 className=\"text-2xl font-bold mb-4 text-blue-700\">Edit Profile</h1>\r\n+\r\n+      <BackButton />\r\n+\r\n+      {error && <p className=\"text-red-500 mb-4\">{error}</p>}\r\n+      {success && <p className=\"text-green-600 mb-4\">{success}</p>}\r\n+\r\n+      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n+        <input type=\"text\" name=\"full_name\" placeholder=\"Full Name\" value={form.full_name} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <input type=\"text\" name=\"lcid\" placeholder=\"LCID\" value={form.lcid} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <input type=\"text\" name=\"phone\" placeholder=\"Phone Number\" value={form.phone} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <input type=\"text\" name=\"section\" placeholder=\"Section\" value={form.section} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <input type=\"text\" name=\"faculty\" placeholder=\"Faculty\" value={form.faculty} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <input type=\"text\" name=\"program\" placeholder=\"Program\" value={form.program} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <input type=\"file\" name=\"profile_pic\" accept=\"image/*\" onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <button type=\"submit\" disabled={loading} className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition\">\r\n+          {loading ? 'Updating...' : 'Update Profile'}\r\n+        </button>\r\n+      </form>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1749106043828,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,89 @@\n+'use client';\r\n+\r\n+import { useState, useEffect } from 'react';\r\n+import { axiosWithCsrf } from '@/lib/axiosWithCsrf';\r\n+import { useRouter } from 'next/navigation';\r\n+import BackButton from '@/components/BackButton';\r\n+\r\n+export default function EditProfilePage() {\r\n+  const [form, setForm] = useState({\r\n+    full_name: '',\r\n+    lcid: '',\r\n+    phone_number: '',\r\n+    section: '',\r\n+    faculty: '',\r\n+    program: '',\r\n+    profile_pic: null as File | null,\r\n+  });\r\n+\r\n+  const [loading, setLoading] = useState(false);\r\n+  const [error, setError] = useState<string | null>(null);\r\n+  const [success, setSuccess] = useState<string | null>(null);\r\n+\r\n+  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n+    const { name, value, files } = e.target as any;\r\n+    setForm(prev => ({\r\n+      ...prev,\r\n+      [name]: files ? files[0] : value,\r\n+    }));\r\n+  };\r\n+\r\n+  const handleSubmit = async (e: React.FormEvent) => {\r\n+    e.preventDefault();\r\n+    setLoading(true);\r\n+    setError(null);\r\n+    setSuccess(null);\r\n+\r\n+    try {\r\n+      const formData = new FormData();\r\n+      for (const key in form) {\r\n+        if (form[key as keyof typeof form]) {\r\n+          formData.append(key, form[key as keyof typeof form] as any);\r\n+        }\r\n+      }\r\n+\r\n+      const res = await axiosWithCsrf.post('/api/edit-profile/', formData, {\r\n+        headers: {\r\n+          'Content-Type': 'multipart/form-data',\r\n+        },\r\n+      });\r\n+\r\n+      setSuccess('Profile updated successfully!');\r\n+    } catch (err: any) {\r\n+      setError(err.response?.data?.message || 'Profile update failed.');\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"max-w-3xl mx-auto px-4 py-6\">\r\n+      <h1 className=\"text-2xl font-bold mb-4 text-blue-700\">Edit Profile</h1>\r\n+\r\n+      <BackButton />\r\n+\r\n+      {error && <p className=\"text-red-500 mb-4\">{error}</p>}\r\n+      {success && <p className=\"text-green-600 mb-4\">{success}</p>}\r\n+\r\n+      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n+        <input type=\"text\" name=\"full_name\" placeholder=\"Full Name\" value={form.full_name} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <input type=\"text\" name=\"lcid\" placeholder=\"LCID\" value={form.lcid} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <input type=\"text\" name=\"phone\" placeholder=\"Phone Number\" value={form.phone_number} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <input type=\"text\" name=\"section\" placeholder=\"Section\" value={form.section} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <input type=\"text\" name=\"faculty\" placeholder=\"Faculty\" value={form.faculty} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <input type=\"text\" name=\"program\" placeholder=\"Program\" value={form.program} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <input type=\"file\" name=\"profile_pic\" accept=\"image/*\" onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+\r\n+        <button type=\"submit\" disabled={loading} className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition\">\r\n+          {loading ? 'Updating...' : 'Update Profile'}\r\n+        </button>\r\n+      </form>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1749106181916,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -69,9 +69,9 @@\n         <input type=\"text\" name=\"full_name\" placeholder=\"Full Name\" value={form.full_name} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n \r\n         <input type=\"text\" name=\"lcid\" placeholder=\"LCID\" value={form.lcid} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n \r\n-        <input type=\"text\" name=\"phone\" placeholder=\"Phone Number\" value={form.phone_number} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n+        <input type=\"text\" name=\"phone_number\" placeholder=\"Phone Number\" value={form.phone_number} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n \r\n         <input type=\"text\" name=\"section\" placeholder=\"Section\" value={form.section} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n \r\n         <input type=\"text\" name=\"faculty\" placeholder=\"Faculty\" value={form.faculty} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n@@ -86,449 +86,4 @@\n       </form>\r\n     </div>\r\n   );\r\n }\r\n-'use client';\r\n-\r\n-import { useState, useEffect } from 'react';\r\n-import { axiosWithCsrf } from '@/lib/axiosWithCsrf';\r\n-import { useRouter } from 'next/navigation';\r\n-import BackButton from '@/components/BackButton';\r\n-\r\n-export default function EditProfilePage() {\r\n-  const [form, setForm] = useState({\r\n-    full_name: '',\r\n-    lcid: '',\r\n-    phone_number: '',\r\n-    section: '',\r\n-    faculty: '',\r\n-    program: '',\r\n-    profile_pic: null as File | null,\r\n-  });\r\n-\r\n-  const [loading, setLoading] = useState(false);\r\n-  const [error, setError] = useState<string | null>(null);\r\n-  const [success, setSuccess] = useState<string | null>(null);\r\n-\r\n-  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n-    const { name, value, files } = e.target as any;\r\n-    setForm(prev => ({\r\n-      ...prev,\r\n-      [name]: files ? files[0] : value,\r\n-    }));\r\n-  };\r\n-\r\n-  const handleSubmit = async (e: React.FormEvent) => {\r\n-    e.preventDefault();\r\n-    setLoading(true);\r\n-    setError(null);\r\n-    setSuccess(null);\r\n-\r\n-    try {\r\n-      const formData = new FormData();\r\n-      for (const key in form) {\r\n-        if (form[key as keyof typeof form]) {\r\n-          formData.append(key, form[key as keyof typeof form] as any);\r\n-        }\r\n-      }\r\n-\r\n-      const res = await axiosWithCsrf.post('/api/edit-profile/', formData, {\r\n-        headers: {\r\n-          'Content-Type': 'multipart/form-data',\r\n-        },\r\n-      });\r\n-\r\n-      setSuccess('Profile updated successfully!');\r\n-    } catch (err: any) {\r\n-      setError(err.response?.data?.message || 'Profile update failed.');\r\n-    } finally {\r\n-      setLoading(false);\r\n-    }\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"max-w-3xl mx-auto px-4 py-6\">\r\n-      <h1 className=\"text-2xl font-bold mb-4 text-blue-700\">Edit Profile</h1>\r\n-\r\n-      <BackButton />\r\n-\r\n-      {error && <p className=\"text-red-500 mb-4\">{error}</p>}\r\n-      {success && <p className=\"text-green-600 mb-4\">{success}</p>}\r\n-\r\n-      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n-        <input type=\"text\" name=\"full_name\" placeholder=\"Full Name\" value={form.full_name} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"text\" name=\"lcid\" placeholder=\"LCID\" value={form.lcid} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"text\" name=\"phone\" placeholder=\"Phone Number\" value={form.phone} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"text\" name=\"section\" placeholder=\"Section\" value={form.section} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"text\" name=\"faculty\" placeholder=\"Faculty\" value={form.faculty} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"text\" name=\"program\" placeholder=\"Program\" value={form.program} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"file\" name=\"profile_pic\" accept=\"image/*\" onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <button type=\"submit\" disabled={loading} className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition\">\r\n-          {loading ? 'Updating...' : 'Update Profile'}\r\n-        </button>\r\n-      </form>\r\n-    </div>\r\n-  );\r\n-}\r\n-'use client';\r\n-\r\n-import { useState, useEffect } from 'react';\r\n-import { axiosWithCsrf } from '@/lib/axiosWithCsrf';\r\n-import { useRouter } from 'next/navigation';\r\n-import BackButton from '@/components/BackButton';\r\n-\r\n-export default function EditProfilePage() {\r\n-  const [form, setForm] = useState({\r\n-    full_name: '',\r\n-    lcid: '',\r\n-    phone_number: '',\r\n-    section: '',\r\n-    faculty: '',\r\n-    program: '',\r\n-    profile_pic: null as File | null,\r\n-  });\r\n-\r\n-  const [loading, setLoading] = useState(false);\r\n-  const [error, setError] = useState<string | null>(null);\r\n-  const [success, setSuccess] = useState<string | null>(null);\r\n-\r\n-  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n-    const { name, value, files } = e.target as any;\r\n-    setForm(prev => ({\r\n-      ...prev,\r\n-      [name]: files ? files[0] : value,\r\n-    }));\r\n-  };\r\n-\r\n-  const handleSubmit = async (e: React.FormEvent) => {\r\n-    e.preventDefault();\r\n-    setLoading(true);\r\n-    setError(null);\r\n-    setSuccess(null);\r\n-\r\n-    try {\r\n-      const formData = new FormData();\r\n-      for (const key in form) {\r\n-        if (form[key as keyof typeof form]) {\r\n-          formData.append(key, form[key as keyof typeof form] as any);\r\n-        }\r\n-      }\r\n-\r\n-      const res = await axiosWithCsrf.post('/api/profile/update/', formData, {\r\n-        headers: {\r\n-          'Content-Type': 'multipart/form-data',\r\n-        },\r\n-      });\r\n-\r\n-      setSuccess('Profile updated successfully!');\r\n-    } catch (err: any) {\r\n-      setError(err.response?.data?.message || 'Profile update failed.');\r\n-    } finally {\r\n-      setLoading(false);\r\n-    }\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"max-w-3xl mx-auto px-4 py-6\">\r\n-      <h1 className=\"text-2xl font-bold mb-4 text-blue-700\">Edit Profile</h1>\r\n-\r\n-      <BackButton />\r\n-\r\n-      {error && <p className=\"text-red-500 mb-4\">{error}</p>}\r\n-      {success && <p className=\"text-green-600 mb-4\">{success}</p>}\r\n-\r\n-      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n-        <input type=\"text\" name=\"full_name\" placeholder=\"Full Name\" value={form.full_name} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"text\" name=\"lcid\" placeholder=\"LCID\" value={form.lcid} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"text\" name=\"phone\" placeholder=\"Phone Number\" value={form.phone} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"text\" name=\"section\" placeholder=\"Section\" value={form.section} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"text\" name=\"faculty\" placeholder=\"Faculty\" value={form.faculty} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"text\" name=\"program\" placeholder=\"Program\" value={form.program} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"file\" name=\"profile_pic\" accept=\"image/*\" onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <button type=\"submit\" disabled={loading} className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition\">\r\n-          {loading ? 'Updating...' : 'Update Profile'}\r\n-        </button>\r\n-      </form>\r\n-    </div>\r\n-  );\r\n-}\r\n-'use client';\r\n-\r\n-import { useState, useEffect } from 'react';\r\n-import { axiosWithCsrf } from '@/lib/axiosWithCsrf';\r\n-import { useRouter } from 'next/navigation';\r\n-import BackButton from '@/components/BackButton';\r\n-\r\n-export default function EditProfilePage() {\r\n-  const [form, setForm] = useState({\r\n-    full_name: '',\r\n-    lcid: '',\r\n-    phone_number: '',\r\n-    section: '',\r\n-    faculty: '',\r\n-    program: '',\r\n-    profile_pic: null as File | null,\r\n-  });\r\n-\r\n-  const [loading, setLoading] = useState(false);\r\n-  const [error, setError] = useState<string | null>(null);\r\n-  const [success, setSuccess] = useState<string | null>(null);\r\n-\r\n-  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n-    const { name, value, files } = e.target as any;\r\n-    setForm(prev => ({\r\n-      ...prev,\r\n-      [name]: files ? files[0] : value,\r\n-    }));\r\n-  };\r\n-\r\n-  const handleSubmit = async (e: React.FormEvent) => {\r\n-    e.preventDefault();\r\n-    setLoading(true);\r\n-    setError(null);\r\n-    setSuccess(null);\r\n-\r\n-    try {\r\n-      const formData = new FormData();\r\n-      for (const key in form) {\r\n-        if (form[key as keyof typeof form]) {\r\n-          formData.append(key, form[key as keyof typeof form] as any);\r\n-        }\r\n-      }\r\n-\r\n-      const res = await axiosWithCsrf.post('/api/profile/update/', formData, {\r\n-        headers: {\r\n-          'Content-Type': 'multipart/form-data',\r\n-        },\r\n-      });\r\n-\r\n-      setSuccess('Profile updated successfully!');\r\n-    } catch (err: any) {\r\n-      setError(err.response?.data?.message || 'Profile update failed.');\r\n-    } finally {\r\n-      setLoading(false);\r\n-    }\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"max-w-3xl mx-auto px-4 py-6\">\r\n-      <h1 className=\"text-2xl font-bold mb-4 text-blue-700\">Edit Profile</h1>\r\n-\r\n-      <BackButton />\r\n-\r\n-      {error && <p className=\"text-red-500 mb-4\">{error}</p>}\r\n-      {success && <p className=\"text-green-600 mb-4\">{success}</p>}\r\n-\r\n-      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n-        <input type=\"text\" name=\"full_name\" placeholder=\"Full Name\" value={form.full_name} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"text\" name=\"lcid\" placeholder=\"LCID\" value={form.lcid} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"text\" name=\"phone\" placeholder=\"Phone Number\" value={form.phone} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"text\" name=\"section\" placeholder=\"Section\" value={form.section} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"text\" name=\"faculty\" placeholder=\"Faculty\" value={form.faculty} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"text\" name=\"program\" placeholder=\"Program\" value={form.program} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"file\" name=\"profile_pic\" accept=\"image/*\" onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <button type=\"submit\" disabled={loading} className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition\">\r\n-          {loading ? 'Updating...' : 'Update Profile'}\r\n-        </button>\r\n-      </form>\r\n-    </div>\r\n-  );\r\n-}\r\n-'use client';\r\n-\r\n-import { useState, useEffect } from 'react';\r\n-import { axiosWithCsrf } from '@/lib/axiosWithCsrf';\r\n-import { useRouter } from 'next/navigation';\r\n-import BackButton from '@/components/BackButton';\r\n-\r\n-export default function EditProfilePage() {\r\n-  const [form, setForm] = useState({\r\n-    full_name: '',\r\n-    lcid: '',\r\n-    phone: '',\r\n-    section: '',\r\n-    faculty: '',\r\n-    program: '',\r\n-    profile_pic: null as File | null,\r\n-  });\r\n-\r\n-  const [loading, setLoading] = useState(false);\r\n-  const [error, setError] = useState<string | null>(null);\r\n-  const [success, setSuccess] = useState<string | null>(null);\r\n-\r\n-  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n-    const { name, value, files } = e.target as any;\r\n-    setForm(prev => ({\r\n-      ...prev,\r\n-      [name]: files ? files[0] : value,\r\n-    }));\r\n-  };\r\n-\r\n-  const handleSubmit = async (e: React.FormEvent) => {\r\n-    e.preventDefault();\r\n-    setLoading(true);\r\n-    setError(null);\r\n-    setSuccess(null);\r\n-\r\n-    try {\r\n-      const formData = new FormData();\r\n-      for (const key in form) {\r\n-        if (form[key as keyof typeof form]) {\r\n-          formData.append(key, form[key as keyof typeof form] as any);\r\n-        }\r\n-      }\r\n-\r\n-      const res = await axiosWithCsrf.post('/api/profile/update/', formData, {\r\n-        headers: {\r\n-          'Content-Type': 'multipart/form-data',\r\n-        },\r\n-      });\r\n-\r\n-      setSuccess('Profile updated successfully!');\r\n-    } catch (err: any) {\r\n-      setError(err.response?.data?.message || 'Profile update failed.');\r\n-    } finally {\r\n-      setLoading(false);\r\n-    }\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"max-w-3xl mx-auto px-4 py-6\">\r\n-      <h1 className=\"text-2xl font-bold mb-4 text-blue-700\">Edit Profile</h1>\r\n-\r\n-      <BackButton />\r\n-\r\n-      {error && <p className=\"text-red-500 mb-4\">{error}</p>}\r\n-      {success && <p className=\"text-green-600 mb-4\">{success}</p>}\r\n-\r\n-      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n-        <input type=\"text\" name=\"full_name\" placeholder=\"Full Name\" value={form.full_name} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"text\" name=\"lcid\" placeholder=\"LCID\" value={form.lcid} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"text\" name=\"phone\" placeholder=\"Phone Number\" value={form.phone} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"text\" name=\"section\" placeholder=\"Section\" value={form.section} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"text\" name=\"faculty\" placeholder=\"Faculty\" value={form.faculty} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"text\" name=\"program\" placeholder=\"Program\" value={form.program} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"file\" name=\"profile_pic\" accept=\"image/*\" onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <button type=\"submit\" disabled={loading} className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition\">\r\n-          {loading ? 'Updating...' : 'Update Profile'}\r\n-        </button>\r\n-      </form>\r\n-    </div>\r\n-  );\r\n-}\r\n-'use client';\r\n-\r\n-import { useState, useEffect } from 'react';\r\n-import { axiosWithCsrf } from '@/lib/axiosWithCsrf';\r\n-import { useRouter } from 'next/navigation';\r\n-import BackButton from '@/components/BackButton';\r\n-\r\n-export default function EditProfilePage() {\r\n-  const [form, setForm] = useState({\r\n-    full_name: '',\r\n-    lcid: '',\r\n-    phone: '',\r\n-    section: '',\r\n-    faculty: '',\r\n-    program: '',\r\n-    profile_pic: null as File | null,\r\n-  });\r\n-\r\n-  const [loading, setLoading] = useState(false);\r\n-  const [error, setError] = useState<string | null>(null);\r\n-  const [success, setSuccess] = useState<string | null>(null);\r\n-\r\n-  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n-    const { name, value, files } = e.target as any;\r\n-    setForm(prev => ({\r\n-      ...prev,\r\n-      [name]: files ? files[0] : value,\r\n-    }));\r\n-  };\r\n-\r\n-  const handleSubmit = async (e: React.FormEvent) => {\r\n-    e.preventDefault();\r\n-    setLoading(true);\r\n-    setError(null);\r\n-    setSuccess(null);\r\n-\r\n-    try {\r\n-      const formData = new FormData();\r\n-      for (const key in form) {\r\n-        if (form[key as keyof typeof form]) {\r\n-          formData.append(key, form[key as keyof typeof form] as any);\r\n-        }\r\n-      }\r\n-\r\n-      const res = await axiosWithCsrf.post('/api/profile/update/', formData, {\r\n-        headers: {\r\n-          'Content-Type': 'multipart/form-data',\r\n-        },\r\n-      });\r\n-\r\n-      setSuccess('Profile updated successfully!');\r\n-    } catch (err: any) {\r\n-      setError(err.response?.data?.message || 'Profile update failed.');\r\n-    } finally {\r\n-      setLoading(false);\r\n-    }\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"max-w-3xl mx-auto px-4 py-6\">\r\n-      <h1 className=\"text-2xl font-bold mb-4 text-blue-700\">Edit Profile</h1>\r\n-\r\n-      <BackButton />\r\n-\r\n-      {error && <p className=\"text-red-500 mb-4\">{error}</p>}\r\n-      {success && <p className=\"text-green-600 mb-4\">{success}</p>}\r\n-\r\n-      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n-        <input type=\"text\" name=\"full_name\" placeholder=\"Full Name\" value={form.full_name} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"text\" name=\"lcid\" placeholder=\"LCID\" value={form.lcid} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"text\" name=\"phone\" placeholder=\"Phone Number\" value={form.phone} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"text\" name=\"section\" placeholder=\"Section\" value={form.section} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"text\" name=\"faculty\" placeholder=\"Faculty\" value={form.faculty} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"text\" name=\"program\" placeholder=\"Program\" value={form.program} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"file\" name=\"profile_pic\" accept=\"image/*\" onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <button type=\"submit\" disabled={loading} className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition\">\r\n-          {loading ? 'Updating...' : 'Update Profile'}\r\n-        </button>\r\n-      </form>\r\n-    </div>\r\n-  );\r\n-}\r\n"
                },
                {
                    "date": 1749106679239,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,88 @@\n+'use client';\r\n+\r\n+import { useState, useEffect } from 'react';\r\n+import { axiosWithCsrf } from '@/lib/axiosWithCsrf';\r\n+import { useRouter } from 'next/navigation';\r\n+import BackButton from '@/components/BackButton';\r\n+\r\n+export default function EditProfilePage() {\r\n+  const [form, setForm] = useState({\r\n+    full_name: '',\r\n+    lcid: '',\r\n+    phone_number: '',\r\n+    section: '',\r\n+    faculty: '',\r\n+    program: '',\r\n+    profile_pic: null as File | null,\r\n+  });\r\n+\r\n+  const [loading, setLoading] = useState(false);\r\n+  const [error, setError] = useState<string | null>(null);\r\n+  const [success, setSuccess] = useState<string | null>(null);\r\n+\r\n+  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n+    const { name, value, files } = e.target as any;\r\n+    setForm(prev => ({\r\n+      ...prev,\r\n+      [name]: files ? files[0] : value,\r\n+    }));\r\n+  };\r\n+\r\n+  const handleSubmit = async (e: React.FormEvent) => {\r\n+    e.preventDefault();\r\n+    setLoading(true);\r\n+    setError(null);\r\n+    setSuccess(null);\r\n+\r\n+    try {\r\n+      const formData = new FormData();\r\n+      for (const key in form) {\r\n+        if (form[key as keyof typeof form]) {\r\n+          formData.append(key, form[key as keyof typeof form] as any);\r\n+        }\r\n+      }\r\n+\r\n+      const res = await axiosWithCsrf.post('/api/edit-profile/', formData, {\r\n+        headers: {\r\n+          'Content-Type': 'multipart/form-data',\r\n+        },\r\n+      });\r\n+\r\n+      setSuccess('Profile updated successfully!');\r\n+    } catch (err: any) {\r\n+      setError(err.response?.data?.message || 'Profile update failed.');\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"max-w-3xl mx-auto px-4 py-6\">\r\n+      <h1 className=\"text-2xl font-bold mb-4 text-blue-700\">Edit Profile</h1>\r\n+\r\n+      <BackButton />\r\n+\r\n+      {error && <p className=\"text-red-500 mb-4\">{error}</p>}\r\n+      {success && <p className=\"text-green-600 mb-4\">{success}</p>}\r\n+\r\n+      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n+        <input type=\"text\" name=\"full_name\" placeholder=\"Full Name\" value={form.full_name} onChange={handleChange} required className=\"w-full border p-2 rounded\" />\r\n+\r\n+<input type=\"text\" name=\"lcid\" placeholder=\"LCID\" value={form.lcid} onChange={handleChange} required className=\"w-full border p-2 rounded\" />\r\n+\r\n+<input type=\"text\" name=\"phone_number\" placeholder=\"Phone Number\" value={form.phone_number} onChange={handleChange} required className=\"w-full border p-2 rounded\" />\r\n+\r\n+<input type=\"text\" name=\"section\" placeholder=\"Section\" value={form.section} onChange={handleChange} required className=\"w-full border p-2 rounded\" />\r\n+\r\n+<input type=\"text\" name=\"faculty\" placeholder=\"Faculty\" value={form.faculty} onChange={handleChange} required className=\"w-full border p-2 rounded\" />\r\n+\r\n+<input type=\"text\" name=\"program\" placeholder=\"Program\" value={form.program} onChange={handleChange} required className=\"w-full border p-2 rounded\" />\r\n+\r\n+<input type=\"file\" name=\"profile_pic\" accept=\"image/*\" onChange={handleChange} required className=\"w-full border p-2 rounded\" />\r\n+        <button type=\"submit\" disabled={loading} className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition\">\r\n+          {loading ? 'Updating...' : 'Update Profile'}\r\n+        </button>\r\n+      </form>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1749106684978,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,149 @@\n+\"use client\";\r\n+\r\n+import { useState, useEffect } from \"react\";\r\n+import { axiosWithCsrf } from \"@/lib/axiosWithCsrf\";\r\n+import { useRouter } from \"next/navigation\";\r\n+import BackButton from \"@/components/BackButton\";\r\n+\r\n+export default function EditProfilePage() {\r\n+  const [form, setForm] = useState({\r\n+    full_name: \"\",\r\n+    lcid: \"\",\r\n+    phone_number: \"\",\r\n+    section: \"\",\r\n+    faculty: \"\",\r\n+    program: \"\",\r\n+    profile_pic: null as File | null,\r\n+  });\r\n+\r\n+  const [loading, setLoading] = useState(false);\r\n+  const [error, setError] = useState<string | null>(null);\r\n+  const [success, setSuccess] = useState<string | null>(null);\r\n+\r\n+  const handleChange = (\r\n+    e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>\r\n+  ) => {\r\n+    const { name, value, files } = e.target as any;\r\n+    setForm((prev) => ({\r\n+      ...prev,\r\n+      [name]: files ? files[0] : value,\r\n+    }));\r\n+  };\r\n+\r\n+  const handleSubmit = async (e: React.FormEvent) => {\r\n+    e.preventDefault();\r\n+    setLoading(true);\r\n+    setError(null);\r\n+    setSuccess(null);\r\n+\r\n+    try {\r\n+      const formData = new FormData();\r\n+      for (const key in form) {\r\n+        if (form[key as keyof typeof form]) {\r\n+          formData.append(key, form[key as keyof typeof form] as any);\r\n+        }\r\n+      }\r\n+\r\n+      const res = await axiosWithCsrf.post(\"/api/edit-profile/\", formData, {\r\n+        headers: {\r\n+          \"Content-Type\": \"multipart/form-data\",\r\n+        },\r\n+      });\r\n+\r\n+      setSuccess(\"Profile updated successfully!\");\r\n+    } catch (err: any) {\r\n+      setError(err.response?.data?.message || \"Profile update failed.\");\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"max-w-3xl mx-auto px-4 py-6\">\r\n+      <h1 className=\"text-2xl font-bold mb-4 text-blue-700\">Edit Profile</h1>\r\n+\r\n+      <BackButton />\r\n+\r\n+      {error && <p className=\"text-red-500 mb-4\">{error}</p>}\r\n+      {success && <p className=\"text-green-600 mb-4\">{success}</p>}\r\n+\r\n+      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n+        <input\r\n+          type=\"text\"\r\n+          name=\"full_name\"\r\n+          placeholder=\"Full Name\"\r\n+          value={form.full_name}\r\n+          onChange={handleChange}\r\n+          required\r\n+          className=\"w-full border p-2 rounded\"\r\n+        />\r\n+\r\n+        <input\r\n+          type=\"text\"\r\n+          name=\"lcid\"\r\n+          placeholder=\"LCID\"\r\n+          value={form.lcid}\r\n+          onChange={handleChange}\r\n+          required\r\n+          className=\"w-full border p-2 rounded\"\r\n+        />\r\n+\r\n+        <input\r\n+          type=\"text\"\r\n+          name=\"phone_number\"\r\n+          placeholder=\"Phone Number\"\r\n+          value={form.phone_number}\r\n+          onChange={handleChange}\r\n+          required\r\n+          className=\"w-full border p-2 rounded\"\r\n+        />\r\n+\r\n+        <input\r\n+          type=\"text\"\r\n+          name=\"section\"\r\n+          placeholder=\"Section\"\r\n+          value={form.section}\r\n+          onChange={handleChange}\r\n+          required\r\n+          className=\"w-full border p-2 rounded\"\r\n+        />\r\n+\r\n+        <input\r\n+          type=\"text\"\r\n+          name=\"faculty\"\r\n+          placeholder=\"Faculty\"\r\n+          value={form.faculty}\r\n+          onChange={handleChange}\r\n+          required\r\n+          className=\"w-full border p-2 rounded\"\r\n+        />\r\n+\r\n+        <input\r\n+          type=\"text\"\r\n+          name=\"program\"\r\n+          placeholder=\"Program\"\r\n+          value={form.program}\r\n+          onChange={handleChange}\r\n+          required\r\n+          className=\"w-full border p-2 rounded\"\r\n+        />\r\n+\r\n+        <input\r\n+          type=\"file\"\r\n+          name=\"profile_pic\"\r\n+          accept=\"image/*\"\r\n+          onChange={handleChange}\r\n+          required\r\n+          className=\"w-full border p-2 rounded\"\r\n+        />\r\n+        <button\r\n+          type=\"submit\"\r\n+          disabled={loading}\r\n+          className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition\"\r\n+        >\r\n+          {loading ? \"Updating...\" : \"Update Profile\"}\r\n+        </button>\r\n+      </form>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1749106709765,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,35 +30,45 @@\n     }));\r\n   };\r\n \r\n   const handleSubmit = async (e: React.FormEvent) => {\r\n-    e.preventDefault();\r\n-    setLoading(true);\r\n-    setError(null);\r\n-    setSuccess(null);\r\n+  e.preventDefault();\r\n+  setError(null);\r\n+  setSuccess(null);\r\n \r\n-    try {\r\n-      const formData = new FormData();\r\n-      for (const key in form) {\r\n-        if (form[key as keyof typeof form]) {\r\n-          formData.append(key, form[key as keyof typeof form] as any);\r\n-        }\r\n-      }\r\n+  // Client side validation\r\n+  for (const key in form) {\r\n+    if (!form[key as keyof typeof form]) {\r\n+      setError(`Please fill in the ${key.replace('_', ' ')}`);\r\n+      return;\r\n+    }\r\n+  }\r\n \r\n-      const res = await axiosWithCsrf.post(\"/api/edit-profile/\", formData, {\r\n-        headers: {\r\n-          \"Content-Type\": \"multipart/form-data\",\r\n-        },\r\n-      });\r\n+  setLoading(true);\r\n \r\n-      setSuccess(\"Profile updated successfully!\");\r\n-    } catch (err: any) {\r\n-      setError(err.response?.data?.message || \"Profile update failed.\");\r\n-    } finally {\r\n-      setLoading(false);\r\n+  try {\r\n+    const formData = new FormData();\r\n+    for (const key in form) {\r\n+      if (form[key as keyof typeof form]) {\r\n+        formData.append(key, form[key as keyof typeof form] as any);\r\n+      }\r\n     }\r\n-  };\r\n \r\n+    await axiosWithCsrf.post('/api/edit-profile/', formData, {\r\n+      headers: {\r\n+        'Content-Type': 'multipart/form-data',\r\n+      },\r\n+    });\r\n+\r\n+    setSuccess('Profile updated successfully!');\r\n+  } catch (err: any) {\r\n+    setError(err.response?.data?.message || 'Profile update failed.');\r\n+  } finally {\r\n+    setLoading(false);\r\n+  }\r\n+};\r\n+\r\n+\r\n   return (\r\n     <div className=\"max-w-3xl mx-auto px-4 py-6\">\r\n       <h1 className=\"text-2xl font-bold mb-4 text-blue-700\">Edit Profile</h1>\r\n \r\n@@ -146,181 +156,4 @@\n       </form>\r\n     </div>\r\n   );\r\n }\r\n-'use client';\r\n-\r\n-import { useState, useEffect } from 'react';\r\n-import { axiosWithCsrf } from '@/lib/axiosWithCsrf';\r\n-import { useRouter } from 'next/navigation';\r\n-import BackButton from '@/components/BackButton';\r\n-\r\n-export default function EditProfilePage() {\r\n-  const [form, setForm] = useState({\r\n-    full_name: '',\r\n-    lcid: '',\r\n-    phone_number: '',\r\n-    section: '',\r\n-    faculty: '',\r\n-    program: '',\r\n-    profile_pic: null as File | null,\r\n-  });\r\n-\r\n-  const [loading, setLoading] = useState(false);\r\n-  const [error, setError] = useState<string | null>(null);\r\n-  const [success, setSuccess] = useState<string | null>(null);\r\n-\r\n-  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n-    const { name, value, files } = e.target as any;\r\n-    setForm(prev => ({\r\n-      ...prev,\r\n-      [name]: files ? files[0] : value,\r\n-    }));\r\n-  };\r\n-\r\n-  const handleSubmit = async (e: React.FormEvent) => {\r\n-    e.preventDefault();\r\n-    setLoading(true);\r\n-    setError(null);\r\n-    setSuccess(null);\r\n-\r\n-    try {\r\n-      const formData = new FormData();\r\n-      for (const key in form) {\r\n-        if (form[key as keyof typeof form]) {\r\n-          formData.append(key, form[key as keyof typeof form] as any);\r\n-        }\r\n-      }\r\n-\r\n-      const res = await axiosWithCsrf.post('/api/edit-profile/', formData, {\r\n-        headers: {\r\n-          'Content-Type': 'multipart/form-data',\r\n-        },\r\n-      });\r\n-\r\n-      setSuccess('Profile updated successfully!');\r\n-    } catch (err: any) {\r\n-      setError(err.response?.data?.message || 'Profile update failed.');\r\n-    } finally {\r\n-      setLoading(false);\r\n-    }\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"max-w-3xl mx-auto px-4 py-6\">\r\n-      <h1 className=\"text-2xl font-bold mb-4 text-blue-700\">Edit Profile</h1>\r\n-\r\n-      <BackButton />\r\n-\r\n-      {error && <p className=\"text-red-500 mb-4\">{error}</p>}\r\n-      {success && <p className=\"text-green-600 mb-4\">{success}</p>}\r\n-\r\n-      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n-        <input type=\"text\" name=\"full_name\" placeholder=\"Full Name\" value={form.full_name} onChange={handleChange} required className=\"w-full border p-2 rounded\" />\r\n-\r\n-<input type=\"text\" name=\"lcid\" placeholder=\"LCID\" value={form.lcid} onChange={handleChange} required className=\"w-full border p-2 rounded\" />\r\n-\r\n-<input type=\"text\" name=\"phone_number\" placeholder=\"Phone Number\" value={form.phone_number} onChange={handleChange} required className=\"w-full border p-2 rounded\" />\r\n-\r\n-<input type=\"text\" name=\"section\" placeholder=\"Section\" value={form.section} onChange={handleChange} required className=\"w-full border p-2 rounded\" />\r\n-\r\n-<input type=\"text\" name=\"faculty\" placeholder=\"Faculty\" value={form.faculty} onChange={handleChange} required className=\"w-full border p-2 rounded\" />\r\n-\r\n-<input type=\"text\" name=\"program\" placeholder=\"Program\" value={form.program} onChange={handleChange} required className=\"w-full border p-2 rounded\" />\r\n-\r\n-<input type=\"file\" name=\"profile_pic\" accept=\"image/*\" onChange={handleChange} required className=\"w-full border p-2 rounded\" />\r\n-        <button type=\"submit\" disabled={loading} className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition\">\r\n-          {loading ? 'Updating...' : 'Update Profile'}\r\n-        </button>\r\n-      </form>\r\n-    </div>\r\n-  );\r\n-}\r\n-'use client';\r\n-\r\n-import { useState, useEffect } from 'react';\r\n-import { axiosWithCsrf } from '@/lib/axiosWithCsrf';\r\n-import { useRouter } from 'next/navigation';\r\n-import BackButton from '@/components/BackButton';\r\n-\r\n-export default function EditProfilePage() {\r\n-  const [form, setForm] = useState({\r\n-    full_name: '',\r\n-    lcid: '',\r\n-    phone_number: '',\r\n-    section: '',\r\n-    faculty: '',\r\n-    program: '',\r\n-    profile_pic: null as File | null,\r\n-  });\r\n-\r\n-  const [loading, setLoading] = useState(false);\r\n-  const [error, setError] = useState<string | null>(null);\r\n-  const [success, setSuccess] = useState<string | null>(null);\r\n-\r\n-  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n-    const { name, value, files } = e.target as any;\r\n-    setForm(prev => ({\r\n-      ...prev,\r\n-      [name]: files ? files[0] : value,\r\n-    }));\r\n-  };\r\n-\r\n-  const handleSubmit = async (e: React.FormEvent) => {\r\n-    e.preventDefault();\r\n-    setLoading(true);\r\n-    setError(null);\r\n-    setSuccess(null);\r\n-\r\n-    try {\r\n-      const formData = new FormData();\r\n-      for (const key in form) {\r\n-        if (form[key as keyof typeof form]) {\r\n-          formData.append(key, form[key as keyof typeof form] as any);\r\n-        }\r\n-      }\r\n-\r\n-      const res = await axiosWithCsrf.post('/api/edit-profile/', formData, {\r\n-        headers: {\r\n-          'Content-Type': 'multipart/form-data',\r\n-        },\r\n-      });\r\n-\r\n-      setSuccess('Profile updated successfully!');\r\n-    } catch (err: any) {\r\n-      setError(err.response?.data?.message || 'Profile update failed.');\r\n-    } finally {\r\n-      setLoading(false);\r\n-    }\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"max-w-3xl mx-auto px-4 py-6\">\r\n-      <h1 className=\"text-2xl font-bold mb-4 text-blue-700\">Edit Profile</h1>\r\n-\r\n-      <BackButton />\r\n-\r\n-      {error && <p className=\"text-red-500 mb-4\">{error}</p>}\r\n-      {success && <p className=\"text-green-600 mb-4\">{success}</p>}\r\n-\r\n-      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n-        <input type=\"text\" name=\"full_name\" placeholder=\"Full Name\" value={form.full_name} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"text\" name=\"lcid\" placeholder=\"LCID\" value={form.lcid} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"text\" name=\"phone_number\" placeholder=\"Phone Number\" value={form.phone_number} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"text\" name=\"section\" placeholder=\"Section\" value={form.section} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"text\" name=\"faculty\" placeholder=\"Faculty\" value={form.faculty} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"text\" name=\"program\" placeholder=\"Program\" value={form.program} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <input type=\"file\" name=\"profile_pic\" accept=\"image/*\" onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n-\r\n-        <button type=\"submit\" disabled={loading} className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition\">\r\n-          {loading ? 'Updating...' : 'Update Profile'}\r\n-        </button>\r\n-      </form>\r\n-    </div>\r\n-  );\r\n-}\r\n"
                },
                {
                    "date": 1749106732346,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,159 @@\n+\"use client\";\r\n+\r\n+import { useState, useEffect } from \"react\";\r\n+import { axiosWithCsrf } from \"@/lib/axiosWithCsrf\";\r\n+import { useRouter } from \"next/navigation\";\r\n+import BackButton from \"@/components/BackButton\";\r\n+\r\n+export default function EditProfilePage() {\r\n+  const [form, setForm] = useState({\r\n+    full_name: \"\",\r\n+    lcid: \"\",\r\n+    phone_number: \"\",\r\n+    section: \"\",\r\n+    faculty: \"\",\r\n+    program: \"\",\r\n+    profile_pic: null as File | null,\r\n+  });\r\n+\r\n+  const [loading, setLoading] = useState(false);\r\n+  const [error, setError] = useState<string | null>(null);\r\n+  const [success, setSuccess] = useState<string | null>(null);\r\n+\r\n+  const handleChange = (\r\n+    e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>\r\n+  ) => {\r\n+    const { name, value, files } = e.target as any;\r\n+    setForm((prev) => ({\r\n+      ...prev,\r\n+      [name]: files ? files[0] : value,\r\n+    }));\r\n+  };\r\n+\r\n+  const handleSubmit = async (e: React.FormEvent) => {\r\n+  e.preventDefault();\r\n+  setError(null);\r\n+  setSuccess(null);\r\n+\r\n+  // Client side validation\r\n+  for (const key in form) {\r\n+    if (!form[key as keyof typeof form]) {\r\n+      setError(`Please fill in the ${key.replace('_', ' ')}`);\r\n+      return;\r\n+    }\r\n+  }\r\n+\r\n+  setLoading(true);\r\n+\r\n+  try {\r\n+    const formData = new FormData();\r\n+    for (const key in form) {\r\n+      if (form[key as keyof typeof form]) {\r\n+        formData.append(key, form[key as keyof typeof form] as any);\r\n+      }\r\n+    }\r\n+\r\n+    await axiosWithCsrf.post('/api/edit-profile/', formData, {\r\n+      headers: {\r\n+        'Content-Type': 'multipart/form-data',\r\n+      },\r\n+    });\r\n+\r\n+    setSuccess('Profile updated successfully!');\r\n+  } catch (err: any) {\r\n+    setError(err.response?.data?.message || 'Profile update failed.');\r\n+  } finally {\r\n+    setLoading(false);\r\n+  }\r\n+};\r\n+\r\n+\r\n+  return (\r\n+    <div className=\"max-w-3xl mx-auto px-4 py-6\">\r\n+      <h1 className=\"text-2xl font-bold mb-4 text-blue-700\">Edit Profile</h1>\r\n+\r\n+      <BackButton />\r\n+\r\n+      {error && <p className=\"text-red-500 mb-4\">{error}</p>}\r\n+      {success && <p className=\"text-green-600 mb-4\">{success}</p>}\r\n+\r\n+      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n+        <input\r\n+          type=\"text\"\r\n+          name=\"full_name\"\r\n+          placeholder=\"Full Name\"\r\n+          value={form.full_name}\r\n+          onChange={handleChange}\r\n+          required\r\n+          className=\"w-full border p-2 rounded\"\r\n+        />\r\n+\r\n+        <input\r\n+          type=\"text\"\r\n+          name=\"lcid\"\r\n+          placeholder=\"LCID\"\r\n+          value={form.lcid}\r\n+          onChange={handleChange}\r\n+          required\r\n+          className=\"w-full border p-2 rounded\"\r\n+        />\r\n+\r\n+        <input\r\n+          type=\"text\"\r\n+          name=\"phone_number\"\r\n+          placeholder=\"Phone Number\"\r\n+          value={form.phone_number}\r\n+          onChange={handleChange}\r\n+          required\r\n+          className=\"w-full border p-2 rounded\"\r\n+        />\r\n+\r\n+        <input\r\n+          type=\"text\"\r\n+          name=\"section\"\r\n+          placeholder=\"Section\"\r\n+          value={form.section}\r\n+          onChange={handleChange}\r\n+          required\r\n+          className=\"w-full border p-2 rounded\"\r\n+        />\r\n+\r\n+        <input\r\n+          type=\"text\"\r\n+          name=\"faculty\"\r\n+          placeholder=\"Faculty\"\r\n+          value={form.faculty}\r\n+          onChange={handleChange}\r\n+          required\r\n+          className=\"w-full border p-2 rounded\"\r\n+        />\r\n+\r\n+        <input\r\n+          type=\"text\"\r\n+          name=\"program\"\r\n+          placeholder=\"Program\"\r\n+          value={form.program}\r\n+          onChange={handleChange}\r\n+          required\r\n+          className=\"w-full border p-2 rounded\"\r\n+        />\r\n+\r\n+        <input\r\n+          type=\"file\"\r\n+          name=\"profile_pic\"\r\n+          accept=\"image/*\"\r\n+          onChange={handleChange}\r\n+          required\r\n+          className=\"w-full border p-2 rounded\"\r\n+        />\r\n+        <button\r\n+          type=\"submit\"\r\n+          disabled={loading}\r\n+          className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition\"\r\n+        >\r\n+          {loading ? \"Updating...\" : \"Update Profile\"}\r\n+        </button>\r\n+      </form>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1749106738148,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,158 @@\n+\"use client\";\r\n+\r\n+import { useState, useEffect } from \"react\";\r\n+import { axiosWithCsrf } from \"@/lib/axiosWithCsrf\";\r\n+import { useRouter } from \"next/navigation\";\r\n+import BackButton from \"@/components/BackButton\";\r\n+\r\n+export default function EditProfilePage() {\r\n+  const [form, setForm] = useState({\r\n+    full_name: \"\",\r\n+    lcid: \"\",\r\n+    phone_number: \"\",\r\n+    section: \"\",\r\n+    faculty: \"\",\r\n+    program: \"\",\r\n+    profile_pic: null as File | null,\r\n+  });\r\n+\r\n+  const [loading, setLoading] = useState(false);\r\n+  const [error, setError] = useState<string | null>(null);\r\n+  const [success, setSuccess] = useState<string | null>(null);\r\n+\r\n+  const handleChange = (\r\n+    e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>\r\n+  ) => {\r\n+    const { name, value, files } = e.target as any;\r\n+    setForm((prev) => ({\r\n+      ...prev,\r\n+      [name]: files ? files[0] : value,\r\n+    }));\r\n+  };\r\n+\r\n+  const handleSubmit = async (e: React.FormEvent) => {\r\n+    e.preventDefault();\r\n+    setError(null);\r\n+    setSuccess(null);\r\n+\r\n+    // Client side validation\r\n+    for (const key in form) {\r\n+      if (!form[key as keyof typeof form]) {\r\n+        setError(`Please fill in the ${key.replace(\"_\", \" \")}`);\r\n+        return;\r\n+      }\r\n+    }\r\n+\r\n+    setLoading(true);\r\n+\r\n+    try {\r\n+      const formData = new FormData();\r\n+      for (const key in form) {\r\n+        if (form[key as keyof typeof form]) {\r\n+          formData.append(key, form[key as keyof typeof form] as any);\r\n+        }\r\n+      }\r\n+\r\n+      await axiosWithCsrf.post(\"/api/edit-profile/\", formData, {\r\n+        headers: {\r\n+          \"Content-Type\": \"multipart/form-data\",\r\n+        },\r\n+      });\r\n+\r\n+      setSuccess(\"Profile updated successfully!\");\r\n+    } catch (err: any) {\r\n+      setError(err.response?.data?.message || \"Profile update failed.\");\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"max-w-3xl mx-auto px-4 py-6\">\r\n+      <h1 className=\"text-2xl font-bold mb-4 text-blue-700\">Edit Profile</h1>\r\n+\r\n+      <BackButton />\r\n+\r\n+      {error && <p className=\"text-red-500 mb-4\">{error}</p>}\r\n+      {success && <p className=\"text-green-600 mb-4\">{success}</p>}\r\n+\r\n+      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n+        <input\r\n+          type=\"text\"\r\n+          name=\"full_name\"\r\n+          placeholder=\"Full Name\"\r\n+          value={form.full_name}\r\n+          onChange={handleChange}\r\n+          required\r\n+          className=\"w-full border p-2 rounded\"\r\n+        />\r\n+\r\n+        <input\r\n+          type=\"text\"\r\n+          name=\"lcid\"\r\n+          placeholder=\"LCID\"\r\n+          value={form.lcid}\r\n+          onChange={handleChange}\r\n+          required\r\n+          className=\"w-full border p-2 rounded\"\r\n+        />\r\n+\r\n+        <input\r\n+          type=\"text\"\r\n+          name=\"phone_number\"\r\n+          placeholder=\"Phone Number\"\r\n+          value={form.phone_number}\r\n+          onChange={handleChange}\r\n+          required\r\n+          className=\"w-full border p-2 rounded\"\r\n+        />\r\n+\r\n+        <input\r\n+          type=\"text\"\r\n+          name=\"section\"\r\n+          placeholder=\"Section\"\r\n+          value={form.section}\r\n+          onChange={handleChange}\r\n+          required\r\n+          className=\"w-full border p-2 rounded\"\r\n+        />\r\n+\r\n+        <input\r\n+          type=\"text\"\r\n+          name=\"faculty\"\r\n+          placeholder=\"Faculty\"\r\n+          value={form.faculty}\r\n+          onChange={handleChange}\r\n+          required\r\n+          className=\"w-full border p-2 rounded\"\r\n+        />\r\n+\r\n+        <input\r\n+          type=\"text\"\r\n+          name=\"program\"\r\n+          placeholder=\"Program\"\r\n+          value={form.program}\r\n+          onChange={handleChange}\r\n+          required\r\n+          className=\"w-full border p-2 rounded\"\r\n+        />\r\n+\r\n+        <input\r\n+          type=\"file\"\r\n+          name=\"profile_pic\"\r\n+          accept=\"image/*\"\r\n+          onChange={handleChange}\r\n+          required\r\n+          className=\"w-full border p-2 rounded\"\r\n+        />\r\n+        <button\r\n+          type=\"submit\"\r\n+          disabled={loading}\r\n+          className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition\"\r\n+        >\r\n+          {loading ? \"Updating...\" : \"Update Profile\"}\r\n+        </button>\r\n+      </form>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1749106744427,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -155,322 +155,4 @@\n       </form>\r\n     </div>\r\n   );\r\n }\r\n-\"use client\";\r\n-\r\n-import { useState, useEffect } from \"react\";\r\n-import { axiosWithCsrf } from \"@/lib/axiosWithCsrf\";\r\n-import { useRouter } from \"next/navigation\";\r\n-import BackButton from \"@/components/BackButton\";\r\n-\r\n-export default function EditProfilePage() {\r\n-  const [form, setForm] = useState({\r\n-    full_name: \"\",\r\n-    lcid: \"\",\r\n-    phone_number: \"\",\r\n-    section: \"\",\r\n-    faculty: \"\",\r\n-    program: \"\",\r\n-    profile_pic: null as File | null,\r\n-  });\r\n-\r\n-  const [loading, setLoading] = useState(false);\r\n-  const [error, setError] = useState<string | null>(null);\r\n-  const [success, setSuccess] = useState<string | null>(null);\r\n-\r\n-  const handleChange = (\r\n-    e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>\r\n-  ) => {\r\n-    const { name, value, files } = e.target as any;\r\n-    setForm((prev) => ({\r\n-      ...prev,\r\n-      [name]: files ? files[0] : value,\r\n-    }));\r\n-  };\r\n-\r\n-  const handleSubmit = async (e: React.FormEvent) => {\r\n-  e.preventDefault();\r\n-  setError(null);\r\n-  setSuccess(null);\r\n-\r\n-  // Client side validation\r\n-  for (const key in form) {\r\n-    if (!form[key as keyof typeof form]) {\r\n-      setError(`Please fill in the ${key.replace('_', ' ')}`);\r\n-      return;\r\n-    }\r\n-  }\r\n-\r\n-  setLoading(true);\r\n-\r\n-  try {\r\n-    const formData = new FormData();\r\n-    for (const key in form) {\r\n-      if (form[key as keyof typeof form]) {\r\n-        formData.append(key, form[key as keyof typeof form] as any);\r\n-      }\r\n-    }\r\n-\r\n-    await axiosWithCsrf.post('/api/edit-profile/', formData, {\r\n-      headers: {\r\n-        'Content-Type': 'multipart/form-data',\r\n-      },\r\n-    });\r\n-\r\n-    setSuccess('Profile updated successfully!');\r\n-  } catch (err: any) {\r\n-    setError(err.response?.data?.message || 'Profile update failed.');\r\n-  } finally {\r\n-    setLoading(false);\r\n-  }\r\n-};\r\n-\r\n-\r\n-  return (\r\n-    <div className=\"max-w-3xl mx-auto px-4 py-6\">\r\n-      <h1 className=\"text-2xl font-bold mb-4 text-blue-700\">Edit Profile</h1>\r\n-\r\n-      <BackButton />\r\n-\r\n-      {error && <p className=\"text-red-500 mb-4\">{error}</p>}\r\n-      {success && <p className=\"text-green-600 mb-4\">{success}</p>}\r\n-\r\n-      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n-        <input\r\n-          type=\"text\"\r\n-          name=\"full_name\"\r\n-          placeholder=\"Full Name\"\r\n-          value={form.full_name}\r\n-          onChange={handleChange}\r\n-          required\r\n-          className=\"w-full border p-2 rounded\"\r\n-        />\r\n-\r\n-        <input\r\n-          type=\"text\"\r\n-          name=\"lcid\"\r\n-          placeholder=\"LCID\"\r\n-          value={form.lcid}\r\n-          onChange={handleChange}\r\n-          required\r\n-          className=\"w-full border p-2 rounded\"\r\n-        />\r\n-\r\n-        <input\r\n-          type=\"text\"\r\n-          name=\"phone_number\"\r\n-          placeholder=\"Phone Number\"\r\n-          value={form.phone_number}\r\n-          onChange={handleChange}\r\n-          required\r\n-          className=\"w-full border p-2 rounded\"\r\n-        />\r\n-\r\n-        <input\r\n-          type=\"text\"\r\n-          name=\"section\"\r\n-          placeholder=\"Section\"\r\n-          value={form.section}\r\n-          onChange={handleChange}\r\n-          required\r\n-          className=\"w-full border p-2 rounded\"\r\n-        />\r\n-\r\n-        <input\r\n-          type=\"text\"\r\n-          name=\"faculty\"\r\n-          placeholder=\"Faculty\"\r\n-          value={form.faculty}\r\n-          onChange={handleChange}\r\n-          required\r\n-          className=\"w-full border p-2 rounded\"\r\n-        />\r\n-\r\n-        <input\r\n-          type=\"text\"\r\n-          name=\"program\"\r\n-          placeholder=\"Program\"\r\n-          value={form.program}\r\n-          onChange={handleChange}\r\n-          required\r\n-          className=\"w-full border p-2 rounded\"\r\n-        />\r\n-\r\n-        <input\r\n-          type=\"file\"\r\n-          name=\"profile_pic\"\r\n-          accept=\"image/*\"\r\n-          onChange={handleChange}\r\n-          required\r\n-          className=\"w-full border p-2 rounded\"\r\n-        />\r\n-        <button\r\n-          type=\"submit\"\r\n-          disabled={loading}\r\n-          className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition\"\r\n-        >\r\n-          {loading ? \"Updating...\" : \"Update Profile\"}\r\n-        </button>\r\n-      </form>\r\n-    </div>\r\n-  );\r\n-}\r\n-\"use client\";\r\n-\r\n-import { useState, useEffect } from \"react\";\r\n-import { axiosWithCsrf } from \"@/lib/axiosWithCsrf\";\r\n-import { useRouter } from \"next/navigation\";\r\n-import BackButton from \"@/components/BackButton\";\r\n-\r\n-export default function EditProfilePage() {\r\n-  const [form, setForm] = useState({\r\n-    full_name: \"\",\r\n-    lcid: \"\",\r\n-    phone_number: \"\",\r\n-    section: \"\",\r\n-    faculty: \"\",\r\n-    program: \"\",\r\n-    profile_pic: null as File | null,\r\n-  });\r\n-\r\n-  const [loading, setLoading] = useState(false);\r\n-  const [error, setError] = useState<string | null>(null);\r\n-  const [success, setSuccess] = useState<string | null>(null);\r\n-\r\n-  const handleChange = (\r\n-    e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>\r\n-  ) => {\r\n-    const { name, value, files } = e.target as any;\r\n-    setForm((prev) => ({\r\n-      ...prev,\r\n-      [name]: files ? files[0] : value,\r\n-    }));\r\n-  };\r\n-\r\n-  const handleSubmit = async (e: React.FormEvent) => {\r\n-  e.preventDefault();\r\n-  setError(null);\r\n-  setSuccess(null);\r\n-\r\n-  // Client side validation\r\n-  for (const key in form) {\r\n-    if (!form[key as keyof typeof form]) {\r\n-      setError(`Please fill in the ${key.replace('_', ' ')}`);\r\n-      return;\r\n-    }\r\n-  }\r\n-\r\n-  setLoading(true);\r\n-\r\n-  try {\r\n-    const formData = new FormData();\r\n-    for (const key in form) {\r\n-      if (form[key as keyof typeof form]) {\r\n-        formData.append(key, form[key as keyof typeof form] as any);\r\n-      }\r\n-    }\r\n-\r\n-    await axiosWithCsrf.post('/api/edit-profile/', formData, {\r\n-      headers: {\r\n-        'Content-Type': 'multipart/form-data',\r\n-      },\r\n-    });\r\n-\r\n-    setSuccess('Profile updated successfully!');\r\n-  } catch (err: any) {\r\n-    setError(err.response?.data?.message || 'Profile update failed.');\r\n-  } finally {\r\n-    setLoading(false);\r\n-  }\r\n-};\r\n-\r\n-\r\n-  return (\r\n-    <div className=\"max-w-3xl mx-auto px-4 py-6\">\r\n-      <h1 className=\"text-2xl font-bold mb-4 text-blue-700\">Edit Profile</h1>\r\n-\r\n-      <BackButton />\r\n-\r\n-      {error && <p className=\"text-red-500 mb-4\">{error}</p>}\r\n-      {success && <p className=\"text-green-600 mb-4\">{success}</p>}\r\n-\r\n-      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n-        <input\r\n-          type=\"text\"\r\n-          name=\"full_name\"\r\n-          placeholder=\"Full Name\"\r\n-          value={form.full_name}\r\n-          onChange={handleChange}\r\n-          required\r\n-          className=\"w-full border p-2 rounded\"\r\n-        />\r\n-\r\n-        <input\r\n-          type=\"text\"\r\n-          name=\"lcid\"\r\n-          placeholder=\"LCID\"\r\n-          value={form.lcid}\r\n-          onChange={handleChange}\r\n-          required\r\n-          className=\"w-full border p-2 rounded\"\r\n-        />\r\n-\r\n-        <input\r\n-          type=\"text\"\r\n-          name=\"phone_number\"\r\n-          placeholder=\"Phone Number\"\r\n-          value={form.phone_number}\r\n-          onChange={handleChange}\r\n-          required\r\n-          className=\"w-full border p-2 rounded\"\r\n-        />\r\n-\r\n-        <input\r\n-          type=\"text\"\r\n-          name=\"section\"\r\n-          placeholder=\"Section\"\r\n-          value={form.section}\r\n-          onChange={handleChange}\r\n-          required\r\n-          className=\"w-full border p-2 rounded\"\r\n-        />\r\n-\r\n-        <input\r\n-          type=\"text\"\r\n-          name=\"faculty\"\r\n-          placeholder=\"Faculty\"\r\n-          value={form.faculty}\r\n-          onChange={handleChange}\r\n-          required\r\n-          className=\"w-full border p-2 rounded\"\r\n-        />\r\n-\r\n-        <input\r\n-          type=\"text\"\r\n-          name=\"program\"\r\n-          placeholder=\"Program\"\r\n-          value={form.program}\r\n-          onChange={handleChange}\r\n-          required\r\n-          className=\"w-full border p-2 rounded\"\r\n-        />\r\n-\r\n-        <input\r\n-          type=\"file\"\r\n-          name=\"profile_pic\"\r\n-          accept=\"image/*\"\r\n-          onChange={handleChange}\r\n-          required\r\n-          className=\"w-full border p-2 rounded\"\r\n-        />\r\n-        <button\r\n-          type=\"submit\"\r\n-          disabled={loading}\r\n-          className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition\"\r\n-        >\r\n-          {loading ? \"Updating...\" : \"Update Profile\"}\r\n-        </button>\r\n-      </form>\r\n-    </div>\r\n-  );\r\n-}\r\n"
                },
                {
                    "date": 1749106925940,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,10 +1,11 @@\n-\"use client\";\r\n+'use client';\r\n \r\n-import { useState, useEffect } from \"react\";\r\n+import { useState } from \"react\";\r\n import { axiosWithCsrf } from \"@/lib/axiosWithCsrf\";\r\n import { useRouter } from \"next/navigation\";\r\n import BackButton from \"@/components/BackButton\";\r\n+import { CameraIcon } from \"lucide-react\"; // You'll need lucide-react installed\r\n \r\n export default function EditProfilePage() {\r\n   const [form, setForm] = useState({\r\n     full_name: \"\",\r\n@@ -14,29 +15,30 @@\n     faculty: \"\",\r\n     program: \"\",\r\n     profile_pic: null as File | null,\r\n   });\r\n-\r\n+  const [preview, setPreview] = useState<string | null>(null);\r\n   const [loading, setLoading] = useState(false);\r\n   const [error, setError] = useState<string | null>(null);\r\n   const [success, setSuccess] = useState<string | null>(null);\r\n \r\n-  const handleChange = (\r\n-    e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>\r\n-  ) => {\r\n+  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n     const { name, value, files } = e.target as any;\r\n-    setForm((prev) => ({\r\n-      ...prev,\r\n-      [name]: files ? files[0] : value,\r\n-    }));\r\n+\r\n+    if (name === 'profile_pic' && files?.[0]) {\r\n+      const file = files[0];\r\n+      setPreview(URL.createObjectURL(file));\r\n+      setForm((prev) => ({ ...prev, profile_pic: file }));\r\n+    } else {\r\n+      setForm((prev) => ({ ...prev, [name]: value }));\r\n+    }\r\n   };\r\n \r\n   const handleSubmit = async (e: React.FormEvent) => {\r\n     e.preventDefault();\r\n     setError(null);\r\n     setSuccess(null);\r\n \r\n-    // Client side validation\r\n     for (const key in form) {\r\n       if (!form[key as keyof typeof form]) {\r\n         setError(`Please fill in the ${key.replace(\"_\", \" \")}`);\r\n         return;\r\n@@ -47,17 +49,13 @@\n \r\n     try {\r\n       const formData = new FormData();\r\n       for (const key in form) {\r\n-        if (form[key as keyof typeof form]) {\r\n-          formData.append(key, form[key as keyof typeof form] as any);\r\n-        }\r\n+        formData.append(key, form[key as keyof typeof form] as any);\r\n       }\r\n \r\n       await axiosWithCsrf.post(\"/api/edit-profile/\", formData, {\r\n-        headers: {\r\n-          \"Content-Type\": \"multipart/form-data\",\r\n-        },\r\n+        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n       });\r\n \r\n       setSuccess(\"Profile updated successfully!\");\r\n     } catch (err: any) {\r\n@@ -67,89 +65,99 @@\n     }\r\n   };\r\n \r\n   return (\r\n-    <div className=\"max-w-3xl mx-auto px-4 py-6\">\r\n-      <h1 className=\"text-2xl font-bold mb-4 text-blue-700\">Edit Profile</h1>\r\n-\r\n+    <div className=\"max-w-xl mx-auto p-6\">\r\n+      <h1 className=\"text-3xl font-bold text-center text-blue-700 mb-6\">Edit Profile</h1>\r\n       <BackButton />\r\n \r\n-      {error && <p className=\"text-red-500 mb-4\">{error}</p>}\r\n-      {success && <p className=\"text-green-600 mb-4\">{success}</p>}\r\n+      {error && <p className=\"text-red-500 text-center mb-4\">{error}</p>}\r\n+      {success && <p className=\"text-green-600 text-center mb-4\">{success}</p>}\r\n \r\n+      {/* Profile Pic Upload Box */}\r\n+      <div className=\"flex justify-center mb-6\">\r\n+        <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xl cursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n+          {preview ? (\r\n+            <img src={preview} alt=\"Preview\" className=\"object-cover w-full h-full\" />\r\n+          ) : (\r\n+            <div className=\"flex items-center justify-center w-full h-full text-gray-400\">\r\n+              <CameraIcon size={40} />\r\n+            </div>\r\n+          )}\r\n+          <input\r\n+            type=\"file\"\r\n+            name=\"profile_pic\"\r\n+            accept=\"image/*\"\r\n+            onChange={handleChange}\r\n+            className=\"absolute inset-0 opacity-0 cursor-pointer\"\r\n+            required\r\n+          />\r\n+        </label>\r\n+      </div>\r\n+\r\n+      {/* Form */}\r\n       <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n-        <input\r\n-          type=\"text\"\r\n-          name=\"full_name\"\r\n-          placeholder=\"Full Name\"\r\n-          value={form.full_name}\r\n-          onChange={handleChange}\r\n-          required\r\n-          className=\"w-full border p-2 rounded\"\r\n-        />\r\n+        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"full_name\"\r\n+            placeholder=\"Full Name\"\r\n+            value={form.full_name}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"lcid\"\r\n+            placeholder=\"LCID\"\r\n+            value={form.lcid}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"phone_number\"\r\n+            placeholder=\"Phone Number\"\r\n+            value={form.phone_number}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"section\"\r\n+            placeholder=\"Section\"\r\n+            value={form.section}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"faculty\"\r\n+            placeholder=\"Faculty\"\r\n+            value={form.faculty}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"program\"\r\n+            placeholder=\"Program\"\r\n+            value={form.program}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+        </div>\r\n \r\n-        <input\r\n-          type=\"text\"\r\n-          name=\"lcid\"\r\n-          placeholder=\"LCID\"\r\n-          value={form.lcid}\r\n-          onChange={handleChange}\r\n-          required\r\n-          className=\"w-full border p-2 rounded\"\r\n-        />\r\n-\r\n-        <input\r\n-          type=\"text\"\r\n-          name=\"phone_number\"\r\n-          placeholder=\"Phone Number\"\r\n-          value={form.phone_number}\r\n-          onChange={handleChange}\r\n-          required\r\n-          className=\"w-full border p-2 rounded\"\r\n-        />\r\n-\r\n-        <input\r\n-          type=\"text\"\r\n-          name=\"section\"\r\n-          placeholder=\"Section\"\r\n-          value={form.section}\r\n-          onChange={handleChange}\r\n-          required\r\n-          className=\"w-full border p-2 rounded\"\r\n-        />\r\n-\r\n-        <input\r\n-          type=\"text\"\r\n-          name=\"faculty\"\r\n-          placeholder=\"Faculty\"\r\n-          value={form.faculty}\r\n-          onChange={handleChange}\r\n-          required\r\n-          className=\"w-full border p-2 rounded\"\r\n-        />\r\n-\r\n-        <input\r\n-          type=\"text\"\r\n-          name=\"program\"\r\n-          placeholder=\"Program\"\r\n-          value={form.program}\r\n-          onChange={handleChange}\r\n-          required\r\n-          className=\"w-full border p-2 rounded\"\r\n-        />\r\n-\r\n-        <input\r\n-          type=\"file\"\r\n-          name=\"profile_pic\"\r\n-          accept=\"image/*\"\r\n-          onChange={handleChange}\r\n-          required\r\n-          className=\"w-full border p-2 rounded\"\r\n-        />\r\n         <button\r\n           type=\"submit\"\r\n           disabled={loading}\r\n-          className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition\"\r\n+          className=\"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition\"\r\n         >\r\n           {loading ? \"Updating...\" : \"Update Profile\"}\r\n         </button>\r\n       </form>\r\n"
                },
                {
                    "date": 1749106952152,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -65,9 +65,9 @@\n     }\r\n   };\r\n \r\n   return (\r\n-    <div className=\"max-w-xl mx-auto p-6\">\r\n+    <div className=\"max-w-xl mx-auto p-6 \">\r\n       <h1 className=\"text-3xl font-bold text-center text-blue-700 mb-6\">Edit Profile</h1>\r\n       <BackButton />\r\n \r\n       {error && <p className=\"text-red-500 text-center mb-4\">{error}</p>}\r\n"
                },
                {
                    "date": 1749106976735,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,166 @@\n+'use client';\r\n+\r\n+import { useState } from \"react\";\r\n+import { axiosWithCsrf } from \"@/lib/axiosWithCsrf\";\r\n+import { useRouter } from \"next/navigation\";\r\n+import BackButton from \"@/components/BackButton\";\r\n+import { CameraIcon } from \"lucide-react\"; // You'll need lucide-react installed\r\n+\r\n+export default function EditProfilePage() {\r\n+  const [form, setForm] = useState({\r\n+    full_name: \"\",\r\n+    lcid: \"\",\r\n+    phone_number: \"\",\r\n+    section: \"\",\r\n+    faculty: \"\",\r\n+    program: \"\",\r\n+    profile_pic: null as File | null,\r\n+  });\r\n+  const [preview, setPreview] = useState<string | null>(null);\r\n+  const [loading, setLoading] = useState(false);\r\n+  const [error, setError] = useState<string | null>(null);\r\n+  const [success, setSuccess] = useState<string | null>(null);\r\n+\r\n+  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n+    const { name, value, files } = e.target as any;\r\n+\r\n+    if (name === 'profile_pic' && files?.[0]) {\r\n+      const file = files[0];\r\n+      setPreview(URL.createObjectURL(file));\r\n+      setForm((prev) => ({ ...prev, profile_pic: file }));\r\n+    } else {\r\n+      setForm((prev) => ({ ...prev, [name]: value }));\r\n+    }\r\n+  };\r\n+\r\n+  const handleSubmit = async (e: React.FormEvent) => {\r\n+    e.preventDefault();\r\n+    setError(null);\r\n+    setSuccess(null);\r\n+\r\n+    for (const key in form) {\r\n+      if (!form[key as keyof typeof form]) {\r\n+        setError(`Please fill in the ${key.replace(\"_\", \" \")}`);\r\n+        return;\r\n+      }\r\n+    }\r\n+\r\n+    setLoading(true);\r\n+\r\n+    try {\r\n+      const formData = new FormData();\r\n+      for (const key in form) {\r\n+        formData.append(key, form[key as keyof typeof form] as any);\r\n+      }\r\n+\r\n+      await axiosWithCsrf.post(\"/api/edit-profile/\", formData, {\r\n+        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n+      });\r\n+\r\n+      setSuccess(\"Profile updated successfully!\");\r\n+    } catch (err: any) {\r\n+      setError(err.response?.data?.message || \"Profile update failed.\");\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"max-w-xl mx-auto p-6 bg-white shadow-md rounded-lg mt-1\">\r\n+      <h1 className=\"text-3xl font-bold text-center text-blue-700 mb-6\">Edit Profile</h1>\r\n+      <BackButton />\r\n+\r\n+      {error && <p className=\"text-red-500 text-center mb-4\">{error}</p>}\r\n+      {success && <p className=\"text-green-600 text-center mb-4\">{success}</p>}\r\n+\r\n+      {/* Profile Pic Upload Box */}\r\n+      <div className=\"flex justify-center mb-6\">\r\n+        <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xl cursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n+          {preview ? (\r\n+            <img src={preview} alt=\"Preview\" className=\"object-cover w-full h-full\" />\r\n+          ) : (\r\n+            <div className=\"flex items-center justify-center w-full h-full text-gray-400\">\r\n+              <CameraIcon size={40} />\r\n+            </div>\r\n+          )}\r\n+          <input\r\n+            type=\"file\"\r\n+            name=\"profile_pic\"\r\n+            accept=\"image/*\"\r\n+            onChange={handleChange}\r\n+            className=\"absolute inset-0 opacity-0 cursor-pointer\"\r\n+            required\r\n+          />\r\n+        </label>\r\n+      </div>\r\n+\r\n+      {/* Form */}\r\n+      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n+        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"full_name\"\r\n+            placeholder=\"Full Name\"\r\n+            value={form.full_name}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"lcid\"\r\n+            placeholder=\"LCID\"\r\n+            value={form.lcid}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"phone_number\"\r\n+            placeholder=\"Phone Number\"\r\n+            value={form.phone_number}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"section\"\r\n+            placeholder=\"Section\"\r\n+            value={form.section}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"faculty\"\r\n+            placeholder=\"Faculty\"\r\n+            value={form.faculty}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"program\"\r\n+            placeholder=\"Program\"\r\n+            value={form.program}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+        </div>\r\n+\r\n+        <button\r\n+          type=\"submit\"\r\n+          disabled={loading}\r\n+          className=\"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition\"\r\n+        >\r\n+          {loading ? \"Updating...\" : \"Update Profile\"}\r\n+        </button>\r\n+      </form>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1749106985920,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -65,9 +65,9 @@\n     }\r\n   };\r\n \r\n   return (\r\n-    <div className=\"max-w-xl mx-auto p-6 bg-white shadow-md rounded-lg mt-1\">\r\n+    <div className=\"max-w-xl mx-auto p-6 bg-white shadow-md rounded-lg mt-3\">\r\n       <h1 className=\"text-3xl font-bold text-center text-blue-700 mb-6\">Edit Profile</h1>\r\n       <BackButton />\r\n \r\n       {error && <p className=\"text-red-500 text-center mb-4\">{error}</p>}\r\n@@ -163,170 +163,4 @@\n       </form>\r\n     </div>\r\n   );\r\n }\r\n-'use client';\r\n-\r\n-import { useState } from \"react\";\r\n-import { axiosWithCsrf } from \"@/lib/axiosWithCsrf\";\r\n-import { useRouter } from \"next/navigation\";\r\n-import BackButton from \"@/components/BackButton\";\r\n-import { CameraIcon } from \"lucide-react\"; // You'll need lucide-react installed\r\n-\r\n-export default function EditProfilePage() {\r\n-  const [form, setForm] = useState({\r\n-    full_name: \"\",\r\n-    lcid: \"\",\r\n-    phone_number: \"\",\r\n-    section: \"\",\r\n-    faculty: \"\",\r\n-    program: \"\",\r\n-    profile_pic: null as File | null,\r\n-  });\r\n-  const [preview, setPreview] = useState<string | null>(null);\r\n-  const [loading, setLoading] = useState(false);\r\n-  const [error, setError] = useState<string | null>(null);\r\n-  const [success, setSuccess] = useState<string | null>(null);\r\n-\r\n-  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n-    const { name, value, files } = e.target as any;\r\n-\r\n-    if (name === 'profile_pic' && files?.[0]) {\r\n-      const file = files[0];\r\n-      setPreview(URL.createObjectURL(file));\r\n-      setForm((prev) => ({ ...prev, profile_pic: file }));\r\n-    } else {\r\n-      setForm((prev) => ({ ...prev, [name]: value }));\r\n-    }\r\n-  };\r\n-\r\n-  const handleSubmit = async (e: React.FormEvent) => {\r\n-    e.preventDefault();\r\n-    setError(null);\r\n-    setSuccess(null);\r\n-\r\n-    for (const key in form) {\r\n-      if (!form[key as keyof typeof form]) {\r\n-        setError(`Please fill in the ${key.replace(\"_\", \" \")}`);\r\n-        return;\r\n-      }\r\n-    }\r\n-\r\n-    setLoading(true);\r\n-\r\n-    try {\r\n-      const formData = new FormData();\r\n-      for (const key in form) {\r\n-        formData.append(key, form[key as keyof typeof form] as any);\r\n-      }\r\n-\r\n-      await axiosWithCsrf.post(\"/api/edit-profile/\", formData, {\r\n-        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n-      });\r\n-\r\n-      setSuccess(\"Profile updated successfully!\");\r\n-    } catch (err: any) {\r\n-      setError(err.response?.data?.message || \"Profile update failed.\");\r\n-    } finally {\r\n-      setLoading(false);\r\n-    }\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"max-w-xl mx-auto p-6 \">\r\n-      <h1 className=\"text-3xl font-bold text-center text-blue-700 mb-6\">Edit Profile</h1>\r\n-      <BackButton />\r\n-\r\n-      {error && <p className=\"text-red-500 text-center mb-4\">{error}</p>}\r\n-      {success && <p className=\"text-green-600 text-center mb-4\">{success}</p>}\r\n-\r\n-      {/* Profile Pic Upload Box */}\r\n-      <div className=\"flex justify-center mb-6\">\r\n-        <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xl cursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n-          {preview ? (\r\n-            <img src={preview} alt=\"Preview\" className=\"object-cover w-full h-full\" />\r\n-          ) : (\r\n-            <div className=\"flex items-center justify-center w-full h-full text-gray-400\">\r\n-              <CameraIcon size={40} />\r\n-            </div>\r\n-          )}\r\n-          <input\r\n-            type=\"file\"\r\n-            name=\"profile_pic\"\r\n-            accept=\"image/*\"\r\n-            onChange={handleChange}\r\n-            className=\"absolute inset-0 opacity-0 cursor-pointer\"\r\n-            required\r\n-          />\r\n-        </label>\r\n-      </div>\r\n-\r\n-      {/* Form */}\r\n-      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n-        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"full_name\"\r\n-            placeholder=\"Full Name\"\r\n-            value={form.full_name}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"lcid\"\r\n-            placeholder=\"LCID\"\r\n-            value={form.lcid}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"phone_number\"\r\n-            placeholder=\"Phone Number\"\r\n-            value={form.phone_number}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"section\"\r\n-            placeholder=\"Section\"\r\n-            value={form.section}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"faculty\"\r\n-            placeholder=\"Faculty\"\r\n-            value={form.faculty}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"program\"\r\n-            placeholder=\"Program\"\r\n-            value={form.program}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-        </div>\r\n-\r\n-        <button\r\n-          type=\"submit\"\r\n-          disabled={loading}\r\n-          className=\"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition\"\r\n-        >\r\n-          {loading ? \"Updating...\" : \"Update Profile\"}\r\n-        </button>\r\n-      </form>\r\n-    </div>\r\n-  );\r\n-}\r\n"
                },
                {
                    "date": 1749107022895,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -74,9 +74,9 @@\n       {success && <p className=\"text-green-600 text-center mb-4\">{success}</p>}\r\n \r\n       {/* Profile Pic Upload Box */}\r\n       <div className=\"flex justify-center mb-6\">\r\n-        <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xl cursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n+        <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xl  cursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n           {preview ? (\r\n             <img src={preview} alt=\"Preview\" className=\"object-cover w-full h-full\" />\r\n           ) : (\r\n             <div className=\"flex items-center justify-center w-full h-full text-gray-400\">\r\n"
                },
                {
                    "date": 1749107042324,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -74,9 +74,9 @@\n       {success && <p className=\"text-green-600 text-center mb-4\">{success}</p>}\r\n \r\n       {/* Profile Pic Upload Box */}\r\n       <div className=\"flex justify-center mb-6\">\r\n-        <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xl  cursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n+        <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xl shadow-md cursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n           {preview ? (\r\n             <img src={preview} alt=\"Preview\" className=\"object-cover w-full h-full\" />\r\n           ) : (\r\n             <div className=\"flex items-center justify-center w-full h-full text-gray-400\">\r\n"
                },
                {
                    "date": 1749107049045,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -74,9 +74,9 @@\n       {success && <p className=\"text-green-600 text-center mb-4\">{success}</p>}\r\n \r\n       {/* Profile Pic Upload Box */}\r\n       <div className=\"flex justify-center mb-6\">\r\n-        <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xl shadow-md cursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n+        <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xl shadow-md p-2 cursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n           {preview ? (\r\n             <img src={preview} alt=\"Preview\" className=\"object-cover w-full h-full\" />\r\n           ) : (\r\n             <div className=\"flex items-center justify-center w-full h-full text-gray-400\">\r\n"
                },
                {
                    "date": 1749107056825,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -74,9 +74,9 @@\n       {success && <p className=\"text-green-600 text-center mb-4\">{success}</p>}\r\n \r\n       {/* Profile Pic Upload Box */}\r\n       <div className=\"flex justify-center mb-6\">\r\n-        <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xl shadow-md p-2 cursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n+        <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xl shadow-md p-5 cursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n           {preview ? (\r\n             <img src={preview} alt=\"Preview\" className=\"object-cover w-full h-full\" />\r\n           ) : (\r\n             <div className=\"flex items-center justify-center w-full h-full text-gray-400\">\r\n"
                },
                {
                    "date": 1749107075498,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -74,9 +74,9 @@\n       {success && <p className=\"text-green-600 text-center mb-4\">{success}</p>}\r\n \r\n       {/* Profile Pic Upload Box */}\r\n       <div className=\"flex justify-center mb-6\">\r\n-        <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xl shadow-md p-5 cursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n+        <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xl shadow-md cursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n           {preview ? (\r\n             <img src={preview} alt=\"Preview\" className=\"object-cover w-full h-full\" />\r\n           ) : (\r\n             <div className=\"flex items-center justify-center w-full h-full text-gray-400\">\r\n"
                },
                {
                    "date": 1749107139588,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -73,9 +73,9 @@\n       {error && <p className=\"text-red-500 text-center mb-4\">{error}</p>}\r\n       {success && <p className=\"text-green-600 text-center mb-4\">{success}</p>}\r\n \r\n       {/* Profile Pic Upload Box */}\r\n-      <div className=\"flex justify-center mb-6\">\r\n+      <div className=\"flex justify-center mb-6 p-5\">\r\n         <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xl shadow-md cursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n           {preview ? (\r\n             <img src={preview} alt=\"Preview\" className=\"object-cover w-full h-full\" />\r\n           ) : (\r\n"
                },
                {
                    "date": 1749107147157,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -73,9 +73,9 @@\n       {error && <p className=\"text-red-500 text-center mb-4\">{error}</p>}\r\n       {success && <p className=\"text-green-600 text-center mb-4\">{success}</p>}\r\n \r\n       {/* Profile Pic Upload Box */}\r\n-      <div className=\"flex justify-center mb-6 p-5\">\r\n+      <div className=\"flex justify-center mb-6 p-5 \">\r\n         <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xl shadow-md cursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n           {preview ? (\r\n             <img src={preview} alt=\"Preview\" className=\"object-cover w-full h-full\" />\r\n           ) : (\r\n"
                },
                {
                    "date": 1749107164684,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -73,9 +73,10 @@\n       {error && <p className=\"text-red-500 text-center mb-4\">{error}</p>}\r\n       {success && <p className=\"text-green-600 text-center mb-4\">{success}</p>}\r\n \r\n       {/* Profile Pic Upload Box */}\r\n-      <div className=\"flex justify-center mb-6 p-5 \">\r\n+      <div className=\"flex justify-center mb-6 p-5 bg-gray-100 rounded-lg\">\r\n+        <div className=\"flex justify-center mb-6 p-5 bg-gray-100 rounded-lg\"></div>\r\n         <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xl shadow-md cursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n           {preview ? (\r\n             <img src={preview} alt=\"Preview\" className=\"object-cover w-full h-full\" />\r\n           ) : (\r\n"
                },
                {
                    "date": 1749107172399,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,8 +92,9 @@\n             className=\"absolute inset-0 opacity-0 cursor-pointer\"\r\n             required\r\n           />\r\n         </label>\r\n+        </div>\r\n       </div>\r\n \r\n       {/* Form */}\r\n       <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n"
                },
                {
                    "date": 1749107179660,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,9 +92,9 @@\n             className=\"absolute inset-0 opacity-0 cursor-pointer\"\r\n             required\r\n           />\r\n         </label>\r\n-        </div>\r\n+       </div>\r\n       </div>\r\n \r\n       {/* Form */}\r\n       <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n"
                },
                {
                    "date": 1749107197672,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -74,9 +74,9 @@\n       {success && <p className=\"text-green-600 text-center mb-4\">{success}</p>}\r\n \r\n       {/* Profile Pic Upload Box */}\r\n       <div className=\"flex justify-center mb-6 p-5 bg-gray-100 rounded-lg\">\r\n-        <div className=\"flex justify-center mb-6 p-5 bg-gray-100 rounded-lg\"></div>\r\n+        <div className=\"flexbg-gray-100 rounded-lg\"></div>\r\n         <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xl shadow-md cursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n           {preview ? (\r\n             <img src={preview} alt=\"Preview\" className=\"object-cover w-full h-full\" />\r\n           ) : (\r\n"
                },
                {
                    "date": 1749107208119,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -74,9 +74,9 @@\n       {success && <p className=\"text-green-600 text-center mb-4\">{success}</p>}\r\n \r\n       {/* Profile Pic Upload Box */}\r\n       <div className=\"flex justify-center mb-6 p-5 bg-gray-100 rounded-lg\">\r\n-        <div className=\"flexbg-gray-100 rounded-lg\"></div>\r\n+        <div className=\"flex justify-center mb-6 p-5 bg-gray-100 rounded-lg\"></div>\r\n         <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xl shadow-md cursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n           {preview ? (\r\n             <img src={preview} alt=\"Preview\" className=\"object-cover w-full h-full\" />\r\n           ) : (\r\n"
                },
                {
                    "date": 1749107222098,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -74,9 +74,9 @@\n       {success && <p className=\"text-green-600 text-center mb-4\">{success}</p>}\r\n \r\n       {/* Profile Pic Upload Box */}\r\n       <div className=\"flex justify-center mb-6 p-5 bg-gray-100 rounded-lg\">\r\n-        <div className=\"flex justify-center mb-6 p-5 bg-gray-100 rounded-lg\"></div>\r\n+        <div className=\"flex justify-center mb-6 p-5 bg-gray-100  rounded-lg\">\r\n         <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xl shadow-md cursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n           {preview ? (\r\n             <img src={preview} alt=\"Preview\" className=\"object-cover w-full h-full\" />\r\n           ) : (\r\n"
                },
                {
                    "date": 1749107231390,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -73,10 +73,10 @@\n       {error && <p className=\"text-red-500 text-center mb-4\">{error}</p>}\r\n       {success && <p className=\"text-green-600 text-center mb-4\">{success}</p>}\r\n \r\n       {/* Profile Pic Upload Box */}\r\n-      <div className=\"flex justify-center mb-6 p-5 bg-gray-100 rounded-lg\">\r\n-        <div className=\"flex justify-center mb-6 p-5 bg-gray-100  rounded-lg\">\r\n+      <div className=\"flex justify-center mb-6 p-5\">\r\n+        <div className=\"flex justify-center mb-6 p-5 bg-gray-100 p-6 rounded-lg\">\r\n         <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xl shadow-md cursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n           {preview ? (\r\n             <img src={preview} alt=\"Preview\" className=\"object-cover w-full h-full\" />\r\n           ) : (\r\n"
                },
                {
                    "date": 1749107236882,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,168 @@\n+'use client';\r\n+\r\n+import { useState } from \"react\";\r\n+import { axiosWithCsrf } from \"@/lib/axiosWithCsrf\";\r\n+import { useRouter } from \"next/navigation\";\r\n+import BackButton from \"@/components/BackButton\";\r\n+import { CameraIcon } from \"lucide-react\"; // You'll need lucide-react installed\r\n+\r\n+export default function EditProfilePage() {\r\n+  const [form, setForm] = useState({\r\n+    full_name: \"\",\r\n+    lcid: \"\",\r\n+    phone_number: \"\",\r\n+    section: \"\",\r\n+    faculty: \"\",\r\n+    program: \"\",\r\n+    profile_pic: null as File | null,\r\n+  });\r\n+  const [preview, setPreview] = useState<string | null>(null);\r\n+  const [loading, setLoading] = useState(false);\r\n+  const [error, setError] = useState<string | null>(null);\r\n+  const [success, setSuccess] = useState<string | null>(null);\r\n+\r\n+  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n+    const { name, value, files } = e.target as any;\r\n+\r\n+    if (name === 'profile_pic' && files?.[0]) {\r\n+      const file = files[0];\r\n+      setPreview(URL.createObjectURL(file));\r\n+      setForm((prev) => ({ ...prev, profile_pic: file }));\r\n+    } else {\r\n+      setForm((prev) => ({ ...prev, [name]: value }));\r\n+    }\r\n+  };\r\n+\r\n+  const handleSubmit = async (e: React.FormEvent) => {\r\n+    e.preventDefault();\r\n+    setError(null);\r\n+    setSuccess(null);\r\n+\r\n+    for (const key in form) {\r\n+      if (!form[key as keyof typeof form]) {\r\n+        setError(`Please fill in the ${key.replace(\"_\", \" \")}`);\r\n+        return;\r\n+      }\r\n+    }\r\n+\r\n+    setLoading(true);\r\n+\r\n+    try {\r\n+      const formData = new FormData();\r\n+      for (const key in form) {\r\n+        formData.append(key, form[key as keyof typeof form] as any);\r\n+      }\r\n+\r\n+      await axiosWithCsrf.post(\"/api/edit-profile/\", formData, {\r\n+        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n+      });\r\n+\r\n+      setSuccess(\"Profile updated successfully!\");\r\n+    } catch (err: any) {\r\n+      setError(err.response?.data?.message || \"Profile update failed.\");\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"max-w-xl mx-auto p-6 bg-white shadow-md rounded-lg mt-3\">\r\n+      <h1 className=\"text-3xl font-bold text-center text-blue-700 mb-6\">Edit Profile</h1>\r\n+      <BackButton />\r\n+\r\n+      {error && <p className=\"text-red-500 text-center mb-4\">{error}</p>}\r\n+      {success && <p className=\"text-green-600 text-center mb-4\">{success}</p>}\r\n+\r\n+      {/* Profile Pic Upload Box */}\r\n+      <div className=\"flex justify-center mb-6\">\r\n+        <div className=\"flex justify-center mb-6 p-5 bg-gray-100 p-6 rounded-lg\">\r\n+        <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xl shadow-md cursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n+          {preview ? (\r\n+            <img src={preview} alt=\"Preview\" className=\"object-cover w-full h-full\" />\r\n+          ) : (\r\n+            <div className=\"flex items-center justify-center w-full h-full text-gray-400\">\r\n+              <CameraIcon size={40} />\r\n+            </div>\r\n+          )}\r\n+          <input\r\n+            type=\"file\"\r\n+            name=\"profile_pic\"\r\n+            accept=\"image/*\"\r\n+            onChange={handleChange}\r\n+            className=\"absolute inset-0 opacity-0 cursor-pointer\"\r\n+            required\r\n+          />\r\n+        </label>\r\n+       </div>\r\n+      </div>\r\n+\r\n+      {/* Form */}\r\n+      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n+        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"full_name\"\r\n+            placeholder=\"Full Name\"\r\n+            value={form.full_name}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"lcid\"\r\n+            placeholder=\"LCID\"\r\n+            value={form.lcid}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"phone_number\"\r\n+            placeholder=\"Phone Number\"\r\n+            value={form.phone_number}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"section\"\r\n+            placeholder=\"Section\"\r\n+            value={form.section}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"faculty\"\r\n+            placeholder=\"Faculty\"\r\n+            value={form.faculty}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"program\"\r\n+            placeholder=\"Program\"\r\n+            value={form.program}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+        </div>\r\n+\r\n+        <button\r\n+          type=\"submit\"\r\n+          disabled={loading}\r\n+          className=\"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition\"\r\n+        >\r\n+          {loading ? \"Updating...\" : \"Update Profile\"}\r\n+        </button>\r\n+      </form>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1749107244795,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -74,9 +74,9 @@\n       {success && <p className=\"text-green-600 text-center mb-4\">{success}</p>}\r\n \r\n       {/* Profile Pic Upload Box */}\r\n       <div className=\"flex justify-center mb-6\">\r\n-        <div className=\"flex justify-center mb-6 p-5 bg-gray-100 p-6 rounded-lg\">\r\n+        <div className=\"flex justify-center mb-6 p-5 bg-gray-100 p-2 rounded-lg\">\r\n         <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xl shadow-md cursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n           {preview ? (\r\n             <img src={preview} alt=\"Preview\" className=\"object-cover w-full h-full\" />\r\n           ) : (\r\n@@ -165,172 +165,4 @@\n       </form>\r\n     </div>\r\n   );\r\n }\r\n-'use client';\r\n-\r\n-import { useState } from \"react\";\r\n-import { axiosWithCsrf } from \"@/lib/axiosWithCsrf\";\r\n-import { useRouter } from \"next/navigation\";\r\n-import BackButton from \"@/components/BackButton\";\r\n-import { CameraIcon } from \"lucide-react\"; // You'll need lucide-react installed\r\n-\r\n-export default function EditProfilePage() {\r\n-  const [form, setForm] = useState({\r\n-    full_name: \"\",\r\n-    lcid: \"\",\r\n-    phone_number: \"\",\r\n-    section: \"\",\r\n-    faculty: \"\",\r\n-    program: \"\",\r\n-    profile_pic: null as File | null,\r\n-  });\r\n-  const [preview, setPreview] = useState<string | null>(null);\r\n-  const [loading, setLoading] = useState(false);\r\n-  const [error, setError] = useState<string | null>(null);\r\n-  const [success, setSuccess] = useState<string | null>(null);\r\n-\r\n-  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n-    const { name, value, files } = e.target as any;\r\n-\r\n-    if (name === 'profile_pic' && files?.[0]) {\r\n-      const file = files[0];\r\n-      setPreview(URL.createObjectURL(file));\r\n-      setForm((prev) => ({ ...prev, profile_pic: file }));\r\n-    } else {\r\n-      setForm((prev) => ({ ...prev, [name]: value }));\r\n-    }\r\n-  };\r\n-\r\n-  const handleSubmit = async (e: React.FormEvent) => {\r\n-    e.preventDefault();\r\n-    setError(null);\r\n-    setSuccess(null);\r\n-\r\n-    for (const key in form) {\r\n-      if (!form[key as keyof typeof form]) {\r\n-        setError(`Please fill in the ${key.replace(\"_\", \" \")}`);\r\n-        return;\r\n-      }\r\n-    }\r\n-\r\n-    setLoading(true);\r\n-\r\n-    try {\r\n-      const formData = new FormData();\r\n-      for (const key in form) {\r\n-        formData.append(key, form[key as keyof typeof form] as any);\r\n-      }\r\n-\r\n-      await axiosWithCsrf.post(\"/api/edit-profile/\", formData, {\r\n-        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n-      });\r\n-\r\n-      setSuccess(\"Profile updated successfully!\");\r\n-    } catch (err: any) {\r\n-      setError(err.response?.data?.message || \"Profile update failed.\");\r\n-    } finally {\r\n-      setLoading(false);\r\n-    }\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"max-w-xl mx-auto p-6 bg-white shadow-md rounded-lg mt-3\">\r\n-      <h1 className=\"text-3xl font-bold text-center text-blue-700 mb-6\">Edit Profile</h1>\r\n-      <BackButton />\r\n-\r\n-      {error && <p className=\"text-red-500 text-center mb-4\">{error}</p>}\r\n-      {success && <p className=\"text-green-600 text-center mb-4\">{success}</p>}\r\n-\r\n-      {/* Profile Pic Upload Box */}\r\n-      <div className=\"flex justify-center mb-6 p-5\">\r\n-        <div className=\"flex justify-center mb-6 p-5 bg-gray-100 p-6 rounded-lg\">\r\n-        <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xl shadow-md cursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n-          {preview ? (\r\n-            <img src={preview} alt=\"Preview\" className=\"object-cover w-full h-full\" />\r\n-          ) : (\r\n-            <div className=\"flex items-center justify-center w-full h-full text-gray-400\">\r\n-              <CameraIcon size={40} />\r\n-            </div>\r\n-          )}\r\n-          <input\r\n-            type=\"file\"\r\n-            name=\"profile_pic\"\r\n-            accept=\"image/*\"\r\n-            onChange={handleChange}\r\n-            className=\"absolute inset-0 opacity-0 cursor-pointer\"\r\n-            required\r\n-          />\r\n-        </label>\r\n-       </div>\r\n-      </div>\r\n-\r\n-      {/* Form */}\r\n-      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n-        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"full_name\"\r\n-            placeholder=\"Full Name\"\r\n-            value={form.full_name}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"lcid\"\r\n-            placeholder=\"LCID\"\r\n-            value={form.lcid}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"phone_number\"\r\n-            placeholder=\"Phone Number\"\r\n-            value={form.phone_number}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"section\"\r\n-            placeholder=\"Section\"\r\n-            value={form.section}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"faculty\"\r\n-            placeholder=\"Faculty\"\r\n-            value={form.faculty}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"program\"\r\n-            placeholder=\"Program\"\r\n-            value={form.program}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-        </div>\r\n-\r\n-        <button\r\n-          type=\"submit\"\r\n-          disabled={loading}\r\n-          className=\"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition\"\r\n-        >\r\n-          {loading ? \"Updating...\" : \"Update Profile\"}\r\n-        </button>\r\n-      </form>\r\n-    </div>\r\n-  );\r\n-}\r\n"
                },
                {
                    "date": 1749107256211,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -74,9 +74,9 @@\n       {success && <p className=\"text-green-600 text-center mb-4\">{success}</p>}\r\n \r\n       {/* Profile Pic Upload Box */}\r\n       <div className=\"flex justify-center mb-6\">\r\n-        <div className=\"flex justify-center mb-6 p-5 bg-gray-100 p-2 rounded-lg\">\r\n+        <div className=\"flex justify-centerbg-gray-100 p-1 rounded-lg\">\r\n         <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xl shadow-md cursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n           {preview ? (\r\n             <img src={preview} alt=\"Preview\" className=\"object-cover w-full h-full\" />\r\n           ) : (\r\n"
                },
                {
                    "date": 1749107263256,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -74,9 +74,9 @@\n       {success && <p className=\"text-green-600 text-center mb-4\">{success}</p>}\r\n \r\n       {/* Profile Pic Upload Box */}\r\n       <div className=\"flex justify-center mb-6\">\r\n-        <div className=\"flex justify-centerbg-gray-100 p-1 rounded-lg\">\r\n+        <div className=\"flex justify-center bg-gray-100 p-2 rounded-lg\">\r\n         <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xl shadow-md cursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n           {preview ? (\r\n             <img src={preview} alt=\"Preview\" className=\"object-cover w-full h-full\" />\r\n           ) : (\r\n"
                },
                {
                    "date": 1749107277602,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -74,9 +74,9 @@\n       {success && <p className=\"text-green-600 text-center mb-4\">{success}</p>}\r\n \r\n       {/* Profile Pic Upload Box */}\r\n       <div className=\"flex justify-center mb-6\">\r\n-        <div className=\"flex justify-center bg-gray-100 p-2 rounded-lg\">\r\n+        <div className=\"flex justify-center bg-gray-100 p-2 shad rounded-lg\">\r\n         <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xl shadow-md cursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n           {preview ? (\r\n             <img src={preview} alt=\"Preview\" className=\"object-cover w-full h-full\" />\r\n           ) : (\r\n"
                },
                {
                    "date": 1749107289023,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -74,10 +74,10 @@\n       {success && <p className=\"text-green-600 text-center mb-4\">{success}</p>}\r\n \r\n       {/* Profile Pic Upload Box */}\r\n       <div className=\"flex justify-center mb-6\">\r\n-        <div className=\"flex justify-center bg-gray-100 p-2 shad rounded-lg\">\r\n-        <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xl shadow-md cursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n+        <div className=\"flex justify-center bg-gray-100 p-2 shadow-md rounded-lg\">\r\n+        <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xlcursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n           {preview ? (\r\n             <img src={preview} alt=\"Preview\" className=\"object-cover w-full h-full\" />\r\n           ) : (\r\n             <div className=\"flex items-center justify-center w-full h-full text-gray-400\">\r\n"
                },
                {
                    "date": 1749107301109,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -74,10 +74,10 @@\n       {success && <p className=\"text-green-600 text-center mb-4\">{success}</p>}\r\n \r\n       {/* Profile Pic Upload Box */}\r\n       <div className=\"flex justify-center mb-6\">\r\n-        <div className=\"flex justify-center bg-gray-100 p-2 shadow-md rounded-lg\">\r\n-        <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xlcursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n+        <div className=\"flex justify-center bg-gray-100 p-2.5 shadow-md rounded-lg\">\r\n+        <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xl cursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n           {preview ? (\r\n             <img src={preview} alt=\"Preview\" className=\"object-cover w-full h-full\" />\r\n           ) : (\r\n             <div className=\"flex items-center justify-center w-full h-full text-gray-400\">\r\n"
                },
                {
                    "date": 1749107306645,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -74,9 +74,9 @@\n       {success && <p className=\"text-green-600 text-center mb-4\">{success}</p>}\r\n \r\n       {/* Profile Pic Upload Box */}\r\n       <div className=\"flex justify-center mb-6\">\r\n-        <div className=\"flex justify-center bg-gray-100 p-2.5 shadow-md rounded-lg\">\r\n+        <div className=\"flex justify-center bg-gray-50 p-2.5 shadow-md rounded-lg\">\r\n         <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xl cursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n           {preview ? (\r\n             <img src={preview} alt=\"Preview\" className=\"object-cover w-full h-full\" />\r\n           ) : (\r\n"
                },
                {
                    "date": 1749107356908,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,5 @@\n-'use client';\r\n+\"use client\";\r\n \r\n import { useState } from \"react\";\r\n import { axiosWithCsrf } from \"@/lib/axiosWithCsrf\";\r\n import { useRouter } from \"next/navigation\";\r\n@@ -20,12 +20,14 @@\n   const [loading, setLoading] = useState(false);\r\n   const [error, setError] = useState<string | null>(null);\r\n   const [success, setSuccess] = useState<string | null>(null);\r\n \r\n-  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n+  const handleChange = (\r\n+    e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>\r\n+  ) => {\r\n     const { name, value, files } = e.target as any;\r\n \r\n-    if (name === 'profile_pic' && files?.[0]) {\r\n+    if (name === \"profile_pic\" && files?.[0]) {\r\n       const file = files[0];\r\n       setPreview(URL.createObjectURL(file));\r\n       setForm((prev) => ({ ...prev, profile_pic: file }));\r\n     } else {\r\n@@ -66,35 +68,41 @@\n   };\r\n \r\n   return (\r\n     <div className=\"max-w-xl mx-auto p-6 bg-white shadow-md rounded-lg mt-3\">\r\n-      <h1 className=\"text-3xl font-bold text-center text-blue-700 mb-6\">Edit Profile</h1>\r\n+      <h1 className=\"text-3xl font-bold text-center text-blue-700 mb-6\">\r\n+        Edit Profile\r\n+      </h1>\r\n       <BackButton />\r\n \r\n       {error && <p className=\"text-red-500 text-center mb-4\">{error}</p>}\r\n       {success && <p className=\"text-green-600 text-center mb-4\">{success}</p>}\r\n \r\n       {/* Profile Pic Upload Box */}\r\n       <div className=\"flex justify-center mb-6\">\r\n-        <div className=\"flex justify-center bg-gray-50 p-2.5 shadow-md rounded-lg\">\r\n-        <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xl cursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n-          {preview ? (\r\n-            <img src={preview} alt=\"Preview\" className=\"object-cover w-full h-full\" />\r\n-          ) : (\r\n-            <div className=\"flex items-center justify-center w-full h-full text-gray-400\">\r\n-              <CameraIcon size={40} />\r\n-            </div>\r\n-          )}\r\n-          <input\r\n-            type=\"file\"\r\n-            name=\"profile_pic\"\r\n-            accept=\"image/*\"\r\n-            onChange={handleChange}\r\n-            className=\"absolute inset-0 opacity-0 cursor-pointer\"\r\n-            required\r\n-          />\r\n-        </label>\r\n-       </div>\r\n+        <div className=\"flex justify-center bg-gray-50 p-2.5 shadow-md rounded-xl\">\r\n+          <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xl cursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n+            {preview ? (\r\n+              <img\r\n+                src={preview}\r\n+                alt=\"Preview\"\r\n+                className=\"object-cover w-full h-full\"\r\n+              />\r\n+            ) : (\r\n+              <div className=\"flex items-center justify-center w-full h-full text-gray-400\">\r\n+                <CameraIcon size={40} />\r\n+              </div>\r\n+            )}\r\n+            <input\r\n+              type=\"file\"\r\n+              name=\"profile_pic\"\r\n+              accept=\"image/*\"\r\n+              onChange={handleChange}\r\n+              className=\"absolute inset-0 opacity-0 cursor-pointer\"\r\n+              required\r\n+            />\r\n+          </label>\r\n+        </div>\r\n       </div>\r\n \r\n       {/* Form */}\r\n       <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n"
                },
                {
                    "date": 1749107423733,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,176 @@\n+\"use client\";\r\n+\r\n+import { useState } from \"react\";\r\n+import { axiosWithCsrf } from \"@/lib/axiosWithCsrf\";\r\n+import { useRouter } from \"next/navigation\";\r\n+import BackButton from \"@/components/BackButton\";\r\n+import { CameraIcon } from \"lucide-react\"; // You'll need lucide-react installed\r\n+\r\n+export default function EditProfilePage() {\r\n+  const [form, setForm] = useState({\r\n+    full_name: \"\",\r\n+    lcid: \"\",\r\n+    phone_number: \"\",\r\n+    section: \"\",\r\n+    faculty: \"\",\r\n+    program: \"\",\r\n+    profile_pic: null as File | null,\r\n+  });\r\n+  const [preview, setPreview] = useState<string | null>(null);\r\n+  const [loading, setLoading] = useState(false);\r\n+  const [error, setError] = useState<string | null>(null);\r\n+  const [success, setSuccess] = useState<string | null>(null);\r\n+\r\n+  const handleChange = (\r\n+    e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>\r\n+  ) => {\r\n+    const { name, value, files } = e.target as any;\r\n+\r\n+    if (name === \"profile_pic\" && files?.[0]) {\r\n+      const file = files[0];\r\n+      setPreview(URL.createObjectURL(file));\r\n+      setForm((prev) => ({ ...prev, profile_pic: file }));\r\n+    } else {\r\n+      setForm((prev) => ({ ...prev, [name]: value }));\r\n+    }\r\n+  };\r\n+\r\n+  const handleSubmit = async (e: React.FormEvent) => {\r\n+    e.preventDefault();\r\n+    setError(null);\r\n+    setSuccess(null);\r\n+\r\n+    for (const key in form) {\r\n+      if (!form[key as keyof typeof form]) {\r\n+        setError(`Please fill in the ${key.replace(\"_\", \" \")}`);\r\n+        return;\r\n+      }\r\n+    }\r\n+\r\n+    setLoading(true);\r\n+\r\n+    try {\r\n+      const formData = new FormData();\r\n+      for (const key in form) {\r\n+        formData.append(key, form[key as keyof typeof form] as any);\r\n+      }\r\n+\r\n+      await axiosWithCsrf.post(\"/api/edit-profile/\", formData, {\r\n+        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n+      });\r\n+\r\n+      setSuccess(\"Profile updated successfully!\");\r\n+    } catch (err: any) {\r\n+      setError(err.response?.data?.message || \"Profile update failed.\");\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"max-w-xl mx-auto p-6 bg-white shadow-md rounded-lg mt-2\">\r\n+      <h1 className=\"text-3xl font-bold text-center text-blue-700 mb-6\">\r\n+        Edit Profile\r\n+      </h1>\r\n+      <BackButton />\r\n+\r\n+      {error && <p className=\"text-red-500 text-center mb-4\">{error}</p>}\r\n+      {success && <p className=\"text-green-600 text-center mb-4\">{success}</p>}\r\n+\r\n+      {/* Profile Pic Upload Box */}\r\n+      <div className=\"flex justify-center mb-6\">\r\n+        <div className=\"flex justify-center bg-gray-50 p-2.5 shadow-md rounded-xl\">\r\n+          <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xl cursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n+            {preview ? (\r\n+              <img\r\n+                src={preview}\r\n+                alt=\"Preview\"\r\n+                className=\"object-cover w-full h-full\"\r\n+              />\r\n+            ) : (\r\n+              <div className=\"flex items-center justify-center w-full h-full text-gray-400\">\r\n+                <CameraIcon size={40} />\r\n+              </div>\r\n+            )}\r\n+            <input\r\n+              type=\"file\"\r\n+              name=\"profile_pic\"\r\n+              accept=\"image/*\"\r\n+              onChange={handleChange}\r\n+              className=\"absolute inset-0 opacity-0 cursor-pointer\"\r\n+              required\r\n+            />\r\n+          </label>\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Form */}\r\n+      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n+        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"full_name\"\r\n+            placeholder=\"Full Name\"\r\n+            value={form.full_name}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"lcid\"\r\n+            placeholder=\"LCID\"\r\n+            value={form.lcid}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"phone_number\"\r\n+            placeholder=\"Phone Number\"\r\n+            value={form.phone_number}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"section\"\r\n+            placeholder=\"Section\"\r\n+            value={form.section}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"faculty\"\r\n+            placeholder=\"Faculty\"\r\n+            value={form.faculty}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"program\"\r\n+            placeholder=\"Program\"\r\n+            value={form.program}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+        </div>\r\n+\r\n+        <button\r\n+          type=\"submit\"\r\n+          disabled={loading}\r\n+          className=\"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition\"\r\n+        >\r\n+          {loading ? \"Updating...\" : \"Update Profile\"}\r\n+        </button>\r\n+      </form>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1749107437514,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,9 +67,9 @@\n     }\r\n   };\r\n \r\n   return (\r\n-    <div className=\"max-w-xl mx-auto p-6 bg-white shadow-md rounded-lg mt-2\">\r\n+    <div className=\"max-w-xl mx-auto p-6 bg-white shadow-md rounded-lg mt-1.5\">\r\n       <h1 className=\"text-3xl font-bold text-center text-blue-700 mb-6\">\r\n         Edit Profile\r\n       </h1>\r\n       <BackButton />\r\n@@ -173,180 +173,4 @@\n       </form>\r\n     </div>\r\n   );\r\n }\r\n-\"use client\";\r\n-\r\n-import { useState } from \"react\";\r\n-import { axiosWithCsrf } from \"@/lib/axiosWithCsrf\";\r\n-import { useRouter } from \"next/navigation\";\r\n-import BackButton from \"@/components/BackButton\";\r\n-import { CameraIcon } from \"lucide-react\"; // You'll need lucide-react installed\r\n-\r\n-export default function EditProfilePage() {\r\n-  const [form, setForm] = useState({\r\n-    full_name: \"\",\r\n-    lcid: \"\",\r\n-    phone_number: \"\",\r\n-    section: \"\",\r\n-    faculty: \"\",\r\n-    program: \"\",\r\n-    profile_pic: null as File | null,\r\n-  });\r\n-  const [preview, setPreview] = useState<string | null>(null);\r\n-  const [loading, setLoading] = useState(false);\r\n-  const [error, setError] = useState<string | null>(null);\r\n-  const [success, setSuccess] = useState<string | null>(null);\r\n-\r\n-  const handleChange = (\r\n-    e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>\r\n-  ) => {\r\n-    const { name, value, files } = e.target as any;\r\n-\r\n-    if (name === \"profile_pic\" && files?.[0]) {\r\n-      const file = files[0];\r\n-      setPreview(URL.createObjectURL(file));\r\n-      setForm((prev) => ({ ...prev, profile_pic: file }));\r\n-    } else {\r\n-      setForm((prev) => ({ ...prev, [name]: value }));\r\n-    }\r\n-  };\r\n-\r\n-  const handleSubmit = async (e: React.FormEvent) => {\r\n-    e.preventDefault();\r\n-    setError(null);\r\n-    setSuccess(null);\r\n-\r\n-    for (const key in form) {\r\n-      if (!form[key as keyof typeof form]) {\r\n-        setError(`Please fill in the ${key.replace(\"_\", \" \")}`);\r\n-        return;\r\n-      }\r\n-    }\r\n-\r\n-    setLoading(true);\r\n-\r\n-    try {\r\n-      const formData = new FormData();\r\n-      for (const key in form) {\r\n-        formData.append(key, form[key as keyof typeof form] as any);\r\n-      }\r\n-\r\n-      await axiosWithCsrf.post(\"/api/edit-profile/\", formData, {\r\n-        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n-      });\r\n-\r\n-      setSuccess(\"Profile updated successfully!\");\r\n-    } catch (err: any) {\r\n-      setError(err.response?.data?.message || \"Profile update failed.\");\r\n-    } finally {\r\n-      setLoading(false);\r\n-    }\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"max-w-xl mx-auto p-6 bg-white shadow-md rounded-lg mt-3\">\r\n-      <h1 className=\"text-3xl font-bold text-center text-blue-700 mb-6\">\r\n-        Edit Profile\r\n-      </h1>\r\n-      <BackButton />\r\n-\r\n-      {error && <p className=\"text-red-500 text-center mb-4\">{error}</p>}\r\n-      {success && <p className=\"text-green-600 text-center mb-4\">{success}</p>}\r\n-\r\n-      {/* Profile Pic Upload Box */}\r\n-      <div className=\"flex justify-center mb-6\">\r\n-        <div className=\"flex justify-center bg-gray-50 p-2.5 shadow-md rounded-xl\">\r\n-          <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xl cursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n-            {preview ? (\r\n-              <img\r\n-                src={preview}\r\n-                alt=\"Preview\"\r\n-                className=\"object-cover w-full h-full\"\r\n-              />\r\n-            ) : (\r\n-              <div className=\"flex items-center justify-center w-full h-full text-gray-400\">\r\n-                <CameraIcon size={40} />\r\n-              </div>\r\n-            )}\r\n-            <input\r\n-              type=\"file\"\r\n-              name=\"profile_pic\"\r\n-              accept=\"image/*\"\r\n-              onChange={handleChange}\r\n-              className=\"absolute inset-0 opacity-0 cursor-pointer\"\r\n-              required\r\n-            />\r\n-          </label>\r\n-        </div>\r\n-      </div>\r\n-\r\n-      {/* Form */}\r\n-      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n-        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"full_name\"\r\n-            placeholder=\"Full Name\"\r\n-            value={form.full_name}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"lcid\"\r\n-            placeholder=\"LCID\"\r\n-            value={form.lcid}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"phone_number\"\r\n-            placeholder=\"Phone Number\"\r\n-            value={form.phone_number}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"section\"\r\n-            placeholder=\"Section\"\r\n-            value={form.section}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"faculty\"\r\n-            placeholder=\"Faculty\"\r\n-            value={form.faculty}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"program\"\r\n-            placeholder=\"Program\"\r\n-            value={form.program}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-        </div>\r\n-\r\n-        <button\r\n-          type=\"submit\"\r\n-          disabled={loading}\r\n-          className=\"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition\"\r\n-        >\r\n-          {loading ? \"Updating...\" : \"Update Profile\"}\r\n-        </button>\r\n-      </form>\r\n-    </div>\r\n-  );\r\n-}\r\n"
                },
                {
                    "date": 1749107443922,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,9 +67,9 @@\n     }\r\n   };\r\n \r\n   return (\r\n-    <div className=\"max-w-xl mx-auto p-6 bg-white shadow-md rounded-lg mt-1.5\">\r\n+    <div className=\"max-w-xl mx-auto p-6 bg-white shadow-md rounded-lg mt-1.2\">\r\n       <h1 className=\"text-3xl font-bold text-center text-blue-700 mb-6\">\r\n         Edit Profile\r\n       </h1>\r\n       <BackButton />\r\n"
                },
                {
                    "date": 1749107459952,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,9 +67,9 @@\n     }\r\n   };\r\n \r\n   return (\r\n-    <div className=\"max-w-xl mx-auto p-6 bg-white shadow-md rounded-lg mt-1.2\">\r\n+    <div className=\"max-w-xl mx-auto p-6 bg-white shadow-md rounded-lg mt-1.\">\r\n       <h1 className=\"text-3xl font-bold text-center text-blue-700 mb-6\">\r\n         Edit Profile\r\n       </h1>\r\n       <BackButton />\r\n"
                },
                {
                    "date": 1749107880636,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,11 +1,11 @@\n \"use client\";\r\n \r\n-import { useState } from \"react\";\r\n+import { useEffect, useState } from \"react\";\r\n import { axiosWithCsrf } from \"@/lib/axiosWithCsrf\";\r\n import { useRouter } from \"next/navigation\";\r\n import BackButton from \"@/components/BackButton\";\r\n-import { CameraIcon } from \"lucide-react\"; // You'll need lucide-react installed\r\n+import { CameraIcon } from \"lucide-react\";\r\n \r\n export default function EditProfilePage() {\r\n   const [form, setForm] = useState({\r\n     full_name: \"\",\r\n@@ -15,13 +15,42 @@\n     faculty: \"\",\r\n     program: \"\",\r\n     profile_pic: null as File | null,\r\n   });\r\n+\r\n   const [preview, setPreview] = useState<string | null>(null);\r\n   const [loading, setLoading] = useState(false);\r\n   const [error, setError] = useState<string | null>(null);\r\n   const [success, setSuccess] = useState<string | null>(null);\r\n \r\n+  // Fetch and populate existing profile data\r\n+  useEffect(() => {\r\n+    const fetchProfile = async () => {\r\n+      try {\r\n+        const res = await axiosWithCsrf.get(\"/api/get-profile/\");\r\n+        const data = res.data;\r\n+\r\n+        setForm((prev) => ({\r\n+          ...prev,\r\n+          full_name: data.full_name || \"\",\r\n+          lcid: data.lcid || \"\",\r\n+          phone_number: data.phone_number || \"\",\r\n+          section: data.section || \"\",\r\n+          faculty: data.faculty || \"\",\r\n+          program: data.program || \"\",\r\n+        }));\r\n+\r\n+        if (data.profile_pic) {\r\n+          setPreview(data.profile_pic); // Use existing profile pic URL\r\n+        }\r\n+      } catch (err: any) {\r\n+        setError(\"Failed to fetch profile.\");\r\n+      }\r\n+    };\r\n+\r\n+    fetchProfile();\r\n+  }, []);\r\n+\r\n   const handleChange = (\r\n     e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>\r\n   ) => {\r\n     const { name, value, files } = e.target as any;\r\n@@ -67,9 +96,9 @@\n     }\r\n   };\r\n \r\n   return (\r\n-    <div className=\"max-w-xl mx-auto p-6 bg-white shadow-md rounded-lg mt-1.\">\r\n+    <div className=\"max-w-xl mx-auto p-6 bg-white shadow-md rounded-lg mt-1.5\">\r\n       <h1 className=\"text-3xl font-bold text-center text-blue-700 mb-6\">\r\n         Edit Profile\r\n       </h1>\r\n       <BackButton />\r\n@@ -97,9 +126,8 @@\n               name=\"profile_pic\"\r\n               accept=\"image/*\"\r\n               onChange={handleChange}\r\n               className=\"absolute inset-0 opacity-0 cursor-pointer\"\r\n-              required\r\n             />\r\n           </label>\r\n         </div>\r\n       </div>\r\n"
                },
                {
                    "date": 1749108170209,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,9 +39,9 @@\n           program: data.program || \"\",\r\n         }));\r\n \r\n         if (data.profile_pic) {\r\n-          setPreview(data.profile_pic); // Use existing profile pic URL\r\n+          setPreview(); // Use existing profile pic URL\r\n         }\r\n       } catch (err: any) {\r\n         setError(\"Failed to fetch profile.\");\r\n       }\r\n"
                },
                {
                    "date": 1749108179937,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,9 +39,9 @@\n           program: data.program || \"\",\r\n         }));\r\n \r\n         if (data.profile_pic) {\r\n-          setPreview(); // Use existing profile pic URL\r\n+          setPreview({`da`}); // Use existing profile pic URL\r\n         }\r\n       } catch (err: any) {\r\n         setError(\"Failed to fetch profile.\");\r\n       }\r\n"
                },
                {
                    "date": 1749108186493,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,9 +39,9 @@\n           program: data.program || \"\",\r\n         }));\r\n \r\n         if (data.profile_pic) {\r\n-          setPreview({`da`}); // Use existing profile pic URL\r\n+          setPreview(data.profile_pic); // Use existing profile pic URL\r\n         }\r\n       } catch (err: any) {\r\n         setError(\"Failed to fetch profile.\");\r\n       }\r\n"
                },
                {
                    "date": 1749108205393,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,204 @@\n+\"use client\";\r\n+\r\n+import { useEffect, useState } from \"react\";\r\n+import { axiosWithCsrf } from \"@/lib/axiosWithCsrf\";\r\n+import { useRouter } from \"next/navigation\";\r\n+import BackButton from \"@/components/BackButton\";\r\n+import { CameraIcon } from \"lucide-react\";\r\n+\r\n+export default function EditProfilePage() {\r\n+  const [form, setForm] = useState({\r\n+    full_name: \"\",\r\n+    lcid: \"\",\r\n+    phone_number: \"\",\r\n+    section: \"\",\r\n+    faculty: \"\",\r\n+    program: \"\",\r\n+    profile_pic: null as File | null,\r\n+  });\r\n+\r\n+  const [preview, setPreview] = useState<string | null>(null);\r\n+  const [loading, setLoading] = useState(false);\r\n+  const [error, setError] = useState<string | null>(null);\r\n+  const [success, setSuccess] = useState<string | null>(null);\r\n+\r\n+  // Fetch and populate existing profile data\r\n+  useEffect(() => {\r\n+    const fetchProfile = async () => {\r\n+      try {\r\n+        const res = await axiosWithCsrf.get(\"/api/get-profile/\");\r\n+        const data = res.data;\r\n+\r\n+        setForm((prev) => ({\r\n+          ...prev,\r\n+          full_name: data.full_name || \"\",\r\n+          lcid: data.lcid || \"\",\r\n+          phone_number: data.phone_number || \"\",\r\n+          section: data.section || \"\",\r\n+          faculty: data.faculty || \"\",\r\n+          program: data.program || \"\",\r\n+        }));\r\n+\r\n+        if (data.profile_pic) {\r\n+          setPreview(http://localhost:8000data.profile_pic); // Use existing profile pic URL\r\n+        }\r\n+      } catch (err: any) {\r\n+        setError(\"Failed to fetch profile.\");\r\n+      }\r\n+    };\r\n+\r\n+    fetchProfile();\r\n+  }, []);\r\n+\r\n+  const handleChange = (\r\n+    e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>\r\n+  ) => {\r\n+    const { name, value, files } = e.target as any;\r\n+\r\n+    if (name === \"profile_pic\" && files?.[0]) {\r\n+      const file = files[0];\r\n+      setPreview(URL.createObjectURL(file));\r\n+      setForm((prev) => ({ ...prev, profile_pic: file }));\r\n+    } else {\r\n+      setForm((prev) => ({ ...prev, [name]: value }));\r\n+    }\r\n+  };\r\n+\r\n+  const handleSubmit = async (e: React.FormEvent) => {\r\n+    e.preventDefault();\r\n+    setError(null);\r\n+    setSuccess(null);\r\n+\r\n+    for (const key in form) {\r\n+      if (!form[key as keyof typeof form]) {\r\n+        setError(`Please fill in the ${key.replace(\"_\", \" \")}`);\r\n+        return;\r\n+      }\r\n+    }\r\n+\r\n+    setLoading(true);\r\n+\r\n+    try {\r\n+      const formData = new FormData();\r\n+      for (const key in form) {\r\n+        formData.append(key, form[key as keyof typeof form] as any);\r\n+      }\r\n+\r\n+      await axiosWithCsrf.post(\"/api/edit-profile/\", formData, {\r\n+        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n+      });\r\n+\r\n+      setSuccess(\"Profile updated successfully!\");\r\n+    } catch (err: any) {\r\n+      setError(err.response?.data?.message || \"Profile update failed.\");\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"max-w-xl mx-auto p-6 bg-white shadow-md rounded-lg mt-1.5\">\r\n+      <h1 className=\"text-3xl font-bold text-center text-blue-700 mb-6\">\r\n+        Edit Profile\r\n+      </h1>\r\n+      <BackButton />\r\n+\r\n+      {error && <p className=\"text-red-500 text-center mb-4\">{error}</p>}\r\n+      {success && <p className=\"text-green-600 text-center mb-4\">{success}</p>}\r\n+\r\n+      {/* Profile Pic Upload Box */}\r\n+      <div className=\"flex justify-center mb-6\">\r\n+        <div className=\"flex justify-center bg-gray-50 p-2.5 shadow-md rounded-xl\">\r\n+          <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xl cursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n+            {preview ? (\r\n+              <img\r\n+                src={preview}\r\n+                alt=\"Preview\"\r\n+                className=\"object-cover w-full h-full\"\r\n+              />\r\n+            ) : (\r\n+              <div className=\"flex items-center justify-center w-full h-full text-gray-400\">\r\n+                <CameraIcon size={40} />\r\n+              </div>\r\n+            )}\r\n+            <input\r\n+              type=\"file\"\r\n+              name=\"profile_pic\"\r\n+              accept=\"image/*\"\r\n+              onChange={handleChange}\r\n+              className=\"absolute inset-0 opacity-0 cursor-pointer\"\r\n+            />\r\n+          </label>\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Form */}\r\n+      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n+        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"full_name\"\r\n+            placeholder=\"Full Name\"\r\n+            value={form.full_name}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"lcid\"\r\n+            placeholder=\"LCID\"\r\n+            value={form.lcid}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"phone_number\"\r\n+            placeholder=\"Phone Number\"\r\n+            value={form.phone_number}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"section\"\r\n+            placeholder=\"Section\"\r\n+            value={form.section}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"faculty\"\r\n+            placeholder=\"Faculty\"\r\n+            value={form.faculty}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"program\"\r\n+            placeholder=\"Program\"\r\n+            value={form.program}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+        </div>\r\n+\r\n+        <button\r\n+          type=\"submit\"\r\n+          disabled={loading}\r\n+          className=\"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition\"\r\n+        >\r\n+          {loading ? \"Updating...\" : \"Update Profile\"}\r\n+        </button>\r\n+      </form>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1749108210729,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,9 +39,9 @@\n           program: data.program || \"\",\r\n         }));\r\n \r\n         if (data.profile_pic) {\r\n-          setPreview(http://localhost:8000data.profile_pic); // Use existing profile pic URL\r\n+          setPreview(\"data.profile_pic); // Use existing profile pic URL\r\n         }\r\n       } catch (err: any) {\r\n         setError(\"Failed to fetch profile.\");\r\n       }\r\n@@ -201,208 +201,4 @@\n       </form>\r\n     </div>\r\n   );\r\n }\r\n-\"use client\";\r\n-\r\n-import { useEffect, useState } from \"react\";\r\n-import { axiosWithCsrf } from \"@/lib/axiosWithCsrf\";\r\n-import { useRouter } from \"next/navigation\";\r\n-import BackButton from \"@/components/BackButton\";\r\n-import { CameraIcon } from \"lucide-react\";\r\n-\r\n-export default function EditProfilePage() {\r\n-  const [form, setForm] = useState({\r\n-    full_name: \"\",\r\n-    lcid: \"\",\r\n-    phone_number: \"\",\r\n-    section: \"\",\r\n-    faculty: \"\",\r\n-    program: \"\",\r\n-    profile_pic: null as File | null,\r\n-  });\r\n-\r\n-  const [preview, setPreview] = useState<string | null>(null);\r\n-  const [loading, setLoading] = useState(false);\r\n-  const [error, setError] = useState<string | null>(null);\r\n-  const [success, setSuccess] = useState<string | null>(null);\r\n-\r\n-  // Fetch and populate existing profile data\r\n-  useEffect(() => {\r\n-    const fetchProfile = async () => {\r\n-      try {\r\n-        const res = await axiosWithCsrf.get(\"/api/get-profile/\");\r\n-        const data = res.data;\r\n-\r\n-        setForm((prev) => ({\r\n-          ...prev,\r\n-          full_name: data.full_name || \"\",\r\n-          lcid: data.lcid || \"\",\r\n-          phone_number: data.phone_number || \"\",\r\n-          section: data.section || \"\",\r\n-          faculty: data.faculty || \"\",\r\n-          program: data.program || \"\",\r\n-        }));\r\n-\r\n-        if (data.profile_pic) {\r\n-          setPreview(data.profile_pic); // Use existing profile pic URL\r\n-        }\r\n-      } catch (err: any) {\r\n-        setError(\"Failed to fetch profile.\");\r\n-      }\r\n-    };\r\n-\r\n-    fetchProfile();\r\n-  }, []);\r\n-\r\n-  const handleChange = (\r\n-    e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>\r\n-  ) => {\r\n-    const { name, value, files } = e.target as any;\r\n-\r\n-    if (name === \"profile_pic\" && files?.[0]) {\r\n-      const file = files[0];\r\n-      setPreview(URL.createObjectURL(file));\r\n-      setForm((prev) => ({ ...prev, profile_pic: file }));\r\n-    } else {\r\n-      setForm((prev) => ({ ...prev, [name]: value }));\r\n-    }\r\n-  };\r\n-\r\n-  const handleSubmit = async (e: React.FormEvent) => {\r\n-    e.preventDefault();\r\n-    setError(null);\r\n-    setSuccess(null);\r\n-\r\n-    for (const key in form) {\r\n-      if (!form[key as keyof typeof form]) {\r\n-        setError(`Please fill in the ${key.replace(\"_\", \" \")}`);\r\n-        return;\r\n-      }\r\n-    }\r\n-\r\n-    setLoading(true);\r\n-\r\n-    try {\r\n-      const formData = new FormData();\r\n-      for (const key in form) {\r\n-        formData.append(key, form[key as keyof typeof form] as any);\r\n-      }\r\n-\r\n-      await axiosWithCsrf.post(\"/api/edit-profile/\", formData, {\r\n-        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n-      });\r\n-\r\n-      setSuccess(\"Profile updated successfully!\");\r\n-    } catch (err: any) {\r\n-      setError(err.response?.data?.message || \"Profile update failed.\");\r\n-    } finally {\r\n-      setLoading(false);\r\n-    }\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"max-w-xl mx-auto p-6 bg-white shadow-md rounded-lg mt-1.5\">\r\n-      <h1 className=\"text-3xl font-bold text-center text-blue-700 mb-6\">\r\n-        Edit Profile\r\n-      </h1>\r\n-      <BackButton />\r\n-\r\n-      {error && <p className=\"text-red-500 text-center mb-4\">{error}</p>}\r\n-      {success && <p className=\"text-green-600 text-center mb-4\">{success}</p>}\r\n-\r\n-      {/* Profile Pic Upload Box */}\r\n-      <div className=\"flex justify-center mb-6\">\r\n-        <div className=\"flex justify-center bg-gray-50 p-2.5 shadow-md rounded-xl\">\r\n-          <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xl cursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n-            {preview ? (\r\n-              <img\r\n-                src={preview}\r\n-                alt=\"Preview\"\r\n-                className=\"object-cover w-full h-full\"\r\n-              />\r\n-            ) : (\r\n-              <div className=\"flex items-center justify-center w-full h-full text-gray-400\">\r\n-                <CameraIcon size={40} />\r\n-              </div>\r\n-            )}\r\n-            <input\r\n-              type=\"file\"\r\n-              name=\"profile_pic\"\r\n-              accept=\"image/*\"\r\n-              onChange={handleChange}\r\n-              className=\"absolute inset-0 opacity-0 cursor-pointer\"\r\n-            />\r\n-          </label>\r\n-        </div>\r\n-      </div>\r\n-\r\n-      {/* Form */}\r\n-      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n-        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"full_name\"\r\n-            placeholder=\"Full Name\"\r\n-            value={form.full_name}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"lcid\"\r\n-            placeholder=\"LCID\"\r\n-            value={form.lcid}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"phone_number\"\r\n-            placeholder=\"Phone Number\"\r\n-            value={form.phone_number}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"section\"\r\n-            placeholder=\"Section\"\r\n-            value={form.section}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"faculty\"\r\n-            placeholder=\"Faculty\"\r\n-            value={form.faculty}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"program\"\r\n-            placeholder=\"Program\"\r\n-            value={form.program}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-        </div>\r\n-\r\n-        <button\r\n-          type=\"submit\"\r\n-          disabled={loading}\r\n-          className=\"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition\"\r\n-        >\r\n-          {loading ? \"Updating...\" : \"Update Profile\"}\r\n-        </button>\r\n-      </form>\r\n-    </div>\r\n-  );\r\n-}\r\n"
                },
                {
                    "date": 1749108217046,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,9 +39,9 @@\n           program: data.program || \"\",\r\n         }));\r\n \r\n         if (data.profile_pic) {\r\n-          setPreview(\"data.profile_pic); // Use existing profile pic URL\r\n+          setPreview(\"http://localhost:8000\" + data.profile_pic); // Use existing profile pic URL\r\n         }\r\n       } catch (err: any) {\r\n         setError(\"Failed to fetch profile.\");\r\n       }\r\n"
                },
                {
                    "date": 1749108615651,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,206 @@\n+\"use client\";\r\n+\r\n+import { useEffect, useState } from \"react\";\r\n+import { axiosWithCsrf } from \"@/lib/axiosWithCsrf\";\r\n+import { useRouter } from \"next/navigation\";\r\n+import BackButton from \"@/components/BackButton\";\r\n+import { CameraIcon } from \"lucide-react\";\r\n+\r\n+export default function EditProfilePage() {\r\n+  const [form, setForm] = useState({\r\n+    full_name: \"\",\r\n+    lcid: \"\",\r\n+    phone_number: \"\",\r\n+    section: \"\",\r\n+    faculty: \"\",\r\n+    program: \"\",\r\n+    profile_pic: null as File | null,\r\n+  });\r\n+\r\n+  const [preview, setPreview] = useState<string | null>(null);\r\n+  const [loading, setLoading] = useState(false);\r\n+  const [error, setError] = useState<string | null>(null);\r\n+  const [success, setSuccess] = useState<string | null>(null);\r\n+\r\n+\r\n+\r\n+  // Fetch and populate existing profile data\r\n+  useEffect(() => {\r\n+    const fetchProfile = async () => {\r\n+      try {\r\n+        const res = await axiosWithCsrf.get(\"/api/get-profile/\");\r\n+        const data = res.data;\r\n+\r\n+        setForm((prev) => ({\r\n+          ...prev,\r\n+          full_name: data.full_name || \"\",\r\n+          lcid: data.lcid || \"\",\r\n+          phone_number: data.phone_number || \"\",\r\n+          section: data.section || \"\",\r\n+          faculty: data.faculty || \"\",\r\n+          program: data.program || \"\",\r\n+        }));\r\n+\r\n+        if (data.profile_pic) {\r\n+          setPreview(\"http://localhost:8000\" + data.profile_pic); // Use existing profile pic URL\r\n+        }\r\n+      } catch (err: any) {\r\n+        setError(\"Failed to fetch profile.\");\r\n+      }\r\n+    };\r\n+\r\n+    fetchProfile();\r\n+  }, []);\r\n+\r\n+  const handleChange = (\r\n+    e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>\r\n+  ) => {\r\n+    const { name, value, files } = e.target as any;\r\n+\r\n+    if (name === \"profile_pic\" && files?.[0]) {\r\n+      const file = files[0];\r\n+      setPreview(URL.createObjectURL(file));\r\n+      setForm((prev) => ({ ...prev, profile_pic: file }));\r\n+    } else {\r\n+      setForm((prev) => ({ ...prev, [name]: value }));\r\n+    }\r\n+  };\r\n+\r\n+  const handleSubmit = async (e: React.FormEvent) => {\r\n+    e.preventDefault();\r\n+    setError(null);\r\n+    setSuccess(null);\r\n+\r\n+    for (const key in form) {\r\n+      if (!form[key as keyof typeof form]) {\r\n+        setError(`Please fill in the ${key.replace(\"_\", \" \")}`);\r\n+        return;\r\n+      }\r\n+    }\r\n+\r\n+    setLoading(true);\r\n+\r\n+    try {\r\n+      const formData = new FormData();\r\n+      for (const key in form) {\r\n+        formData.append(key, form[key as keyof typeof form] as any);\r\n+      }\r\n+\r\n+      await axiosWithCsrf.post(\"/api/edit-profile/\", formData, {\r\n+        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n+      });\r\n+\r\n+      setSuccess(\"Profile updated successfully!\");\r\n+    } catch (err: any) {\r\n+      setError(err.response?.data?.message || \"Profile update failed.\");\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"max-w-xl mx-auto p-6 bg-white shadow-md rounded-lg mt-1.5\">\r\n+      <h1 className=\"text-3xl font-bold text-center text-blue-700 mb-6\">\r\n+        Edit Profile\r\n+      </h1>\r\n+      <BackButton />\r\n+\r\n+      {error && <p className=\"text-red-500 text-center mb-4\">{error}</p>}\r\n+      {success && <p className=\"text-green-600 text-center mb-4\">{success}</p>}\r\n+\r\n+      {/* Profile Pic Upload Box */}\r\n+      <div className=\"flex justify-center mb-6\">\r\n+        <div className=\"flex justify-center bg-gray-50 p-2.5 shadow-md rounded-xl\">\r\n+          <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xl cursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n+            {preview ? (\r\n+              <img\r\n+                src={preview}\r\n+                alt=\"Preview\"\r\n+                className=\"object-cover w-full h-full\"\r\n+              />\r\n+            ) : (\r\n+              <div className=\"flex items-center justify-center w-full h-full text-gray-400\">\r\n+                <CameraIcon size={40} />\r\n+              </div>\r\n+            )}\r\n+            <input\r\n+              type=\"file\"\r\n+              name=\"profile_pic\"\r\n+              accept=\"image/*\"\r\n+              onChange={handleChange}\r\n+              className=\"absolute inset-0 opacity-0 cursor-pointer\"\r\n+            />\r\n+          </label>\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Form */}\r\n+      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n+        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"full_name\"\r\n+            placeholder=\"Full Name\"\r\n+            value={form.full_name}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"lcid\"\r\n+            placeholder=\"LCID\"\r\n+            value={form.lcid}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"phone_number\"\r\n+            placeholder=\"Phone Number\"\r\n+            value={form.phone_number}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"section\"\r\n+            placeholder=\"Section\"\r\n+            value={form.section}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"faculty\"\r\n+            placeholder=\"Faculty\"\r\n+            value={form.faculty}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"program\"\r\n+            placeholder=\"Program\"\r\n+            value={form.program}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+        </div>\r\n+\r\n+        <button\r\n+          type=\"submit\"\r\n+          disabled={loading}\r\n+          className=\"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition\"\r\n+        >\r\n+          {loading ? \"Updating...\" : \"Update Profile\"}\r\n+        </button>\r\n+      </form>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1749108627257,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,8 +20,9 @@\n   const [preview, setPreview] = useState<string | null>(null);\r\n   const [loading, setLoading] = useState(false);\r\n   const [error, setError] = useState<string | null>(null);\r\n   const [success, setSuccess] = useState<string | null>(null);\r\n+  const BASE_URL = process.env.NEXT_PUBLIC_API_URL;\r\n \r\n \r\n \r\n   // Fetch and populate existing profile data\r\n@@ -203,208 +204,4 @@\n       </form>\r\n     </div>\r\n   );\r\n }\r\n-\"use client\";\r\n-\r\n-import { useEffect, useState } from \"react\";\r\n-import { axiosWithCsrf } from \"@/lib/axiosWithCsrf\";\r\n-import { useRouter } from \"next/navigation\";\r\n-import BackButton from \"@/components/BackButton\";\r\n-import { CameraIcon } from \"lucide-react\";\r\n-\r\n-export default function EditProfilePage() {\r\n-  const [form, setForm] = useState({\r\n-    full_name: \"\",\r\n-    lcid: \"\",\r\n-    phone_number: \"\",\r\n-    section: \"\",\r\n-    faculty: \"\",\r\n-    program: \"\",\r\n-    profile_pic: null as File | null,\r\n-  });\r\n-\r\n-  const [preview, setPreview] = useState<string | null>(null);\r\n-  const [loading, setLoading] = useState(false);\r\n-  const [error, setError] = useState<string | null>(null);\r\n-  const [success, setSuccess] = useState<string | null>(null);\r\n-\r\n-  // Fetch and populate existing profile data\r\n-  useEffect(() => {\r\n-    const fetchProfile = async () => {\r\n-      try {\r\n-        const res = await axiosWithCsrf.get(\"/api/get-profile/\");\r\n-        const data = res.data;\r\n-\r\n-        setForm((prev) => ({\r\n-          ...prev,\r\n-          full_name: data.full_name || \"\",\r\n-          lcid: data.lcid || \"\",\r\n-          phone_number: data.phone_number || \"\",\r\n-          section: data.section || \"\",\r\n-          faculty: data.faculty || \"\",\r\n-          program: data.program || \"\",\r\n-        }));\r\n-\r\n-        if (data.profile_pic) {\r\n-          setPreview(\"http://localhost:8000\" + data.profile_pic); // Use existing profile pic URL\r\n-        }\r\n-      } catch (err: any) {\r\n-        setError(\"Failed to fetch profile.\");\r\n-      }\r\n-    };\r\n-\r\n-    fetchProfile();\r\n-  }, []);\r\n-\r\n-  const handleChange = (\r\n-    e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>\r\n-  ) => {\r\n-    const { name, value, files } = e.target as any;\r\n-\r\n-    if (name === \"profile_pic\" && files?.[0]) {\r\n-      const file = files[0];\r\n-      setPreview(URL.createObjectURL(file));\r\n-      setForm((prev) => ({ ...prev, profile_pic: file }));\r\n-    } else {\r\n-      setForm((prev) => ({ ...prev, [name]: value }));\r\n-    }\r\n-  };\r\n-\r\n-  const handleSubmit = async (e: React.FormEvent) => {\r\n-    e.preventDefault();\r\n-    setError(null);\r\n-    setSuccess(null);\r\n-\r\n-    for (const key in form) {\r\n-      if (!form[key as keyof typeof form]) {\r\n-        setError(`Please fill in the ${key.replace(\"_\", \" \")}`);\r\n-        return;\r\n-      }\r\n-    }\r\n-\r\n-    setLoading(true);\r\n-\r\n-    try {\r\n-      const formData = new FormData();\r\n-      for (const key in form) {\r\n-        formData.append(key, form[key as keyof typeof form] as any);\r\n-      }\r\n-\r\n-      await axiosWithCsrf.post(\"/api/edit-profile/\", formData, {\r\n-        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n-      });\r\n-\r\n-      setSuccess(\"Profile updated successfully!\");\r\n-    } catch (err: any) {\r\n-      setError(err.response?.data?.message || \"Profile update failed.\");\r\n-    } finally {\r\n-      setLoading(false);\r\n-    }\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"max-w-xl mx-auto p-6 bg-white shadow-md rounded-lg mt-1.5\">\r\n-      <h1 className=\"text-3xl font-bold text-center text-blue-700 mb-6\">\r\n-        Edit Profile\r\n-      </h1>\r\n-      <BackButton />\r\n-\r\n-      {error && <p className=\"text-red-500 text-center mb-4\">{error}</p>}\r\n-      {success && <p className=\"text-green-600 text-center mb-4\">{success}</p>}\r\n-\r\n-      {/* Profile Pic Upload Box */}\r\n-      <div className=\"flex justify-center mb-6\">\r\n-        <div className=\"flex justify-center bg-gray-50 p-2.5 shadow-md rounded-xl\">\r\n-          <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xl cursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n-            {preview ? (\r\n-              <img\r\n-                src={preview}\r\n-                alt=\"Preview\"\r\n-                className=\"object-cover w-full h-full\"\r\n-              />\r\n-            ) : (\r\n-              <div className=\"flex items-center justify-center w-full h-full text-gray-400\">\r\n-                <CameraIcon size={40} />\r\n-              </div>\r\n-            )}\r\n-            <input\r\n-              type=\"file\"\r\n-              name=\"profile_pic\"\r\n-              accept=\"image/*\"\r\n-              onChange={handleChange}\r\n-              className=\"absolute inset-0 opacity-0 cursor-pointer\"\r\n-            />\r\n-          </label>\r\n-        </div>\r\n-      </div>\r\n-\r\n-      {/* Form */}\r\n-      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n-        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"full_name\"\r\n-            placeholder=\"Full Name\"\r\n-            value={form.full_name}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"lcid\"\r\n-            placeholder=\"LCID\"\r\n-            value={form.lcid}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"phone_number\"\r\n-            placeholder=\"Phone Number\"\r\n-            value={form.phone_number}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"section\"\r\n-            placeholder=\"Section\"\r\n-            value={form.section}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"faculty\"\r\n-            placeholder=\"Faculty\"\r\n-            value={form.faculty}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"program\"\r\n-            placeholder=\"Program\"\r\n-            value={form.program}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-        </div>\r\n-\r\n-        <button\r\n-          type=\"submit\"\r\n-          disabled={loading}\r\n-          className=\"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition\"\r\n-        >\r\n-          {loading ? \"Updating...\" : \"Update Profile\"}\r\n-        </button>\r\n-      </form>\r\n-    </div>\r\n-  );\r\n-}\r\n"
                },
                {
                    "date": 1749108640025,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,8 @@\n   const [success, setSuccess] = useState<string | null>(null);\r\n   const BASE_URL = process.env.NEXT_PUBLIC_API_URL;\r\n \r\n \r\n-\r\n   // Fetch and populate existing profile data\r\n   useEffect(() => {\r\n     const fetchProfile = async () => {\r\n       try {\r\n@@ -42,9 +41,9 @@\n           program: data.program || \"\",\r\n         }));\r\n \r\n         if (data.profile_pic) {\r\n-          setPreview(\"http://localhost:8000\" + data.profile_pic); // Use existing profile pic URL\r\n+          setPreview(BASE_URL + data.profile_pic); // Use existing profile pic URL\r\n         }\r\n       } catch (err: any) {\r\n         setError(\"Failed to fetch profile.\");\r\n       }\r\n"
                },
                {
                    "date": 1749108926985,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,206 @@\n+\"use client\";\r\n+\r\n+import { useEffect, useState } from \"react\";\r\n+import { axiosWithCsrf } from \"@/lib/axiosWithCsrf\";\r\n+import { useRouter } from \"next/navigation\";\r\n+import BackButton from \"@/components/BackButton\";\r\n+import { CameraIcon } from \"lucide-react\";\r\n+\r\n+export default function EditProfilePage() {\r\n+  const [form, setForm] = useState({\r\n+    full_name: \"\",\r\n+    lcid: \"\",\r\n+    phone_number: \"\",\r\n+    section: \"\",\r\n+    faculty: \"\",\r\n+    program: \"\",\r\n+    profile_pic: null as File | null,\r\n+  });\r\n+\r\n+  const [preview, setPreview] = useState<string | null>(null);\r\n+  const [loading, setLoading] = useState(false);\r\n+  const [error, setError] = useState<string | null>(null);\r\n+  const [success, setSuccess] = useState<string | null>(null);\r\n+  const BASE_URL = process.env.NEXT_PUBLIC_API_URL;\r\n+\r\n+\r\n+  // Fetch and populate existing profile data\r\n+  useEffect(() => {\r\n+    const fetchProfile = async () => {\r\n+      try {\r\n+        const res = await axiosWithCsrf.get(\"/api/get-profile/\");\r\n+        const data = res.data;\r\n+\r\n+        setForm((prev) => ({\r\n+          ...prev,\r\n+          full_name: data.full_name || \"\",\r\n+          lcid: data.lcid || \"\",\r\n+          phone_number: data.phone_number || \"\",\r\n+          section: data.section || \"\",\r\n+          faculty: data.faculty || \"\",\r\n+          program: data.program || \"\",\r\n+        }));\r\n+\r\n+        if (data.profile_pic) {\r\n+          setPreview(BASE_URL + data.profile_pic); // Use existing profile pic URL\r\n+        }\r\n+      } catch (err: any) {\r\n+        setError(\"Failed to fetch profile.\");\r\n+      }\r\n+    };\r\n+\r\n+    fetchProfile();\r\n+  }, []);\r\n+\r\n+  const handleChange = (\r\n+    e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>\r\n+  ) => {\r\n+    const { name, value, files } = e.target as any;\r\n+\r\n+    if (name === \"profile_pic\" && files?.[0]) {\r\n+      const file = files[0];\r\n+      setPreview(URL.createObjectURL(file));\r\n+      setForm((prev) => ({ ...prev, profile_pic: file }));\r\n+    } else {\r\n+      setForm((prev) => ({ ...prev, [name]: value }));\r\n+    }\r\n+  };\r\n+\r\n+  const handleSubmit = async (e: React.FormEvent) => {\r\n+    e.preventDefault();\r\n+    setError(null);\r\n+    setSuccess(null);\r\n+\r\n+    for (const key in form) {\r\n+      if (!form[key as keyof typeof form]) {\r\n+        setError(`Please fill in the ${key.replace(\"_\", \" \")}`);\r\n+        return;\r\n+      }\r\n+    }\r\n+\r\n+    setLoading(true);\r\n+\r\n+    try {\r\n+      const formData = new FormData();\r\n+      for (const key in form) {\r\n+        formData.append(key, form[key as keyof typeof form] as any);\r\n+      }\r\n+\r\n+      await axiosWithCsrf.post(\"/api/edit-profile/\", formData, {\r\n+        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n+      });\r\n+\r\n+      setSuccess(\"Profile updated successfully!\");\r\n+    } catch (err: any) {\r\n+      setError(err.response?.data?.message || \"Profile update failed.\");\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"max-w-xl mx-auto p-6 bg-white shadow-md rounded-lg mt-1.5\">\r\n+      <h1 className=\"text-3xl font-bold text-center text-blue-700 mb-6\">\r\n+        Edit Profile\r\n+      </h1>\r\n+      <BackButton />\r\n+\r\n+      {error && <p className=\"text-red-500 text-center mb-4\">{error}</p>}\r\n+      {success && <p className=\"text-green-600 text-center mb-4\">{success}</p>}\r\n+\r\n+      {/* Profile Pic Upload Box */}\r\n+      <div className=\"flex justify-center mb-6\">\r\n+        <div className=\"flex justify-center bg-gray-50 p-2.5 shadow-md rounded-xl\">\r\n+          <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xl cursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n+            {preview ? (\r\n+              <img\r\n+                src={preview}\r\n+                alt=\"Preview\"\r\n+                className=\"object-cover w-full h-full\"\r\n+              />\r\n+            ) : (\r\n+              <div className=\"flex items-center justify-center w-full h-full text-gray-400\">\r\n+                <CameraIcon size={40} />\r\n+              </div>\r\n+            )}\r\n+            <input\r\n+              type=\"file\"\r\n+              name=\"profile_pic\"\r\n+              accept=\"image/*\"\r\n+              onChange={handleChange}\r\n+              className=\"absolute inset-0 opacity-0 cursor-pointer\"\r\n+            />\r\n+          </label>\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Form */}\r\n+      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n+        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"full_name\"\r\n+            placeholder=\"Full Name\"\r\n+            value={form.full_name}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"lcid\"\r\n+            placeholder=\"LCID\"\r\n+            value={form.lcid}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"phone_number\"\r\n+            placeholder=\"Phone Number\"\r\n+            value={form.phone_number}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"section\"\r\n+            placeholder=\"Section\"\r\n+            value={form.section}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"faculty\"\r\n+            placeholder=\"Faculty\"\r\n+            value={form.faculty}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"program\"\r\n+            placeholder=\"Program\"\r\n+            value={form.program}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+        </div>\r\n+\r\n+        <button\r\n+          type=\"submit\"\r\n+          disabled={loading}\r\n+          className=\"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition\"\r\n+        >\r\n+          {loading ? \"Updating...\" : \"Update Profile\"}\r\n+        </button>\r\n+      </form>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1749110020301,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,215 @@\n+\"use client\";\r\n+\r\n+import { useEffect, useState } from \"react\";\r\n+import { axiosWithCsrf } from \"@/lib/axiosWithCsrf\";\r\n+import { useRouter } from \"next/navigation\";\r\n+import BackButton from \"@/components/BackButton\";\r\n+import { CameraIcon } from \"lucide-react\";\r\n+\r\n+export default function EditProfilePage() {\r\n+  const [form, setForm] = useState({\r\n+    full_name: \"\",\r\n+    lcid: \"\",\r\n+    phone_number: \"\",\r\n+    section: \"\",\r\n+    faculty: \"\",\r\n+    program: \"\",\r\n+    profile_pic: null as File | null,\r\n+  });\r\n+\r\n+  const [preview, setPreview] = useState<string | null>(null);\r\n+  const [loading, setLoading] = useState(false);\r\n+  const [error, setError] = useState<string | null>(null);\r\n+  const [success, setSuccess] = useState<string | null>(null);\r\n+  const BASE_URL = process.env.NEXT_PUBLIC_API_URL;\r\n+\r\n+\r\n+  // Fetch and populate existing profile data\r\n+  useEffect(() => {\r\n+    const fetchProfile = async () => {\r\n+      try {\r\n+        const res = await axiosWithCsrf.get(\"/api/get-profile/\");\r\n+        const data = res.data;\r\n+\r\n+        setForm((prev) => ({\r\n+          ...prev,\r\n+          full_name: data.full_name || \"\",\r\n+          lcid: data.lcid || \"\",\r\n+          phone_number: data.phone_number || \"\",\r\n+          section: data.section || \"\",\r\n+          faculty: data.faculty || \"\",\r\n+          program: data.program || \"\",\r\n+        }));\r\n+\r\n+        if (data.profile_pic) {\r\n+          setPreview(BASE_URL + data.profile_pic); // Use existing profile pic URL\r\n+        }\r\n+      } catch (err: any) {\r\n+        setError(\"Failed to fetch profile.\");\r\n+      }\r\n+    };\r\n+\r\n+    fetchProfile();\r\n+  }, []);\r\n+\r\n+  const handleChange = (\r\n+    e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>\r\n+  ) => {\r\n+    const { name, value, files } = e.target as any;\r\n+\r\n+    if (name === \"profile_pic\" && files?.[0]) {\r\n+      const file = files[0];\r\n+      setPreview(URL.createObjectURL(file));\r\n+      setForm((prev) => ({ ...prev, profile_pic: file }));\r\n+    } else {\r\n+      setForm((prev) => ({ ...prev, [name]: value }));\r\n+    }\r\n+  };\r\n+\r\n+  const handleSubmit = async (e: React.FormEvent) => {\r\n+    e.preventDefault();\r\n+    setError(null);\r\n+    setSuccess(null);\r\n+\r\n+    for (const key in form) {\r\n+  // Skip profile_pic validation if no new file selected but preview exists (means old pic is present)\r\n+  if (key === \"profile_pic\") {\r\n+    if (!form.profile_pic && !preview) {\r\n+      setError(\"Please upload a profile picture\");\r\n+      return;\r\n+    }\r\n+  } else {\r\n+    if (!form[key as keyof typeof form]) {\r\n+      setError(`Please fill in the ${key.replace(\"_\", \" \")}`);\r\n+      return;\r\n+    }\r\n+  }\r\n+}\r\n+\r\n+\r\n+    setLoading(true);\r\n+\r\n+    try {\r\n+      const formData = new FormData();\r\n+      for (const key in form) {\r\n+        formData.append(key, form[key as keyof typeof form] as any);\r\n+      }\r\n+\r\n+      await axiosWithCsrf.post(\"/api/edit-profile/\", formData, {\r\n+        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n+      });\r\n+\r\n+      setSuccess(\"Profile updated successfully!\");\r\n+    } catch (err: any) {\r\n+      setError(err.response?.data?.message || \"Profile update failed.\");\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"max-w-xl mx-auto p-6 bg-white shadow-md rounded-lg mt-1.5\">\r\n+      <h1 className=\"text-3xl font-bold text-center text-blue-700 mb-6\">\r\n+        Edit Profile\r\n+      </h1>\r\n+      <BackButton />\r\n+\r\n+      {error && <p className=\"text-red-500 text-center mb-4\">{error}</p>}\r\n+      {success && <p className=\"text-green-600 text-center mb-4\">{success}</p>}\r\n+\r\n+      {/* Profile Pic Upload Box */}\r\n+      <div className=\"flex justify-center mb-6\">\r\n+        <div className=\"flex justify-center bg-gray-50 p-2.5 shadow-md rounded-xl\">\r\n+          <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xl cursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n+            {preview ? (\r\n+              <img\r\n+                src={preview}\r\n+                alt=\"Preview\"\r\n+                className=\"object-cover w-full h-full\"\r\n+              />\r\n+            ) : (\r\n+              <div className=\"flex items-center justify-center w-full h-full text-gray-400\">\r\n+                <CameraIcon size={40} />\r\n+              </div>\r\n+            )}\r\n+            <input\r\n+              type=\"file\"\r\n+              name=\"profile_pic\"\r\n+              accept=\"image/*\"\r\n+              onChange={handleChange}\r\n+              className=\"absolute inset-0 opacity-0 cursor-pointer\"\r\n+            />\r\n+          </label>\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Form */}\r\n+      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n+        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"full_name\"\r\n+            placeholder=\"Full Name\"\r\n+            value={form.full_name}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"lcid\"\r\n+            placeholder=\"LCID\"\r\n+            value={form.lcid}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"phone_number\"\r\n+            placeholder=\"Phone Number\"\r\n+            value={form.phone_number}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"section\"\r\n+            placeholder=\"Section\"\r\n+            value={form.section}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"faculty\"\r\n+            placeholder=\"Faculty\"\r\n+            value={form.faculty}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"program\"\r\n+            placeholder=\"Program\"\r\n+            value={form.program}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+        </div>\r\n+\r\n+        <button\r\n+          type=\"submit\"\r\n+          disabled={loading}\r\n+          className=\"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition\"\r\n+        >\r\n+          {loading ? \"Updating...\" : \"Update Profile\"}\r\n+        </button>\r\n+      </form>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1749110107358,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -212,416 +212,4 @@\n       </form>\r\n     </div>\r\n   );\r\n }\r\n-\"use client\";\r\n-\r\n-import { useEffect, useState } from \"react\";\r\n-import { axiosWithCsrf } from \"@/lib/axiosWithCsrf\";\r\n-import { useRouter } from \"next/navigation\";\r\n-import BackButton from \"@/components/BackButton\";\r\n-import { CameraIcon } from \"lucide-react\";\r\n-\r\n-export default function EditProfilePage() {\r\n-  const [form, setForm] = useState({\r\n-    full_name: \"\",\r\n-    lcid: \"\",\r\n-    phone_number: \"\",\r\n-    section: \"\",\r\n-    faculty: \"\",\r\n-    program: \"\",\r\n-    profile_pic: null as File | null,\r\n-  });\r\n-\r\n-  const [preview, setPreview] = useState<string | null>(null);\r\n-  const [loading, setLoading] = useState(false);\r\n-  const [error, setError] = useState<string | null>(null);\r\n-  const [success, setSuccess] = useState<string | null>(null);\r\n-  const BASE_URL = process.env.NEXT_PUBLIC_API_URL;\r\n-\r\n-\r\n-  // Fetch and populate existing profile data\r\n-  useEffect(() => {\r\n-    const fetchProfile = async () => {\r\n-      try {\r\n-        const res = await axiosWithCsrf.get(\"/api/get-profile/\");\r\n-        const data = res.data;\r\n-\r\n-        setForm((prev) => ({\r\n-          ...prev,\r\n-          full_name: data.full_name || \"\",\r\n-          lcid: data.lcid || \"\",\r\n-          phone_number: data.phone_number || \"\",\r\n-          section: data.section || \"\",\r\n-          faculty: data.faculty || \"\",\r\n-          program: data.program || \"\",\r\n-        }));\r\n-\r\n-        if (data.profile_pic) {\r\n-          setPreview(BASE_URL + data.profile_pic); // Use existing profile pic URL\r\n-        }\r\n-      } catch (err: any) {\r\n-        setError(\"Failed to fetch profile.\");\r\n-      }\r\n-    };\r\n-\r\n-    fetchProfile();\r\n-  }, []);\r\n-\r\n-  const handleChange = (\r\n-    e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>\r\n-  ) => {\r\n-    const { name, value, files } = e.target as any;\r\n-\r\n-    if (name === \"profile_pic\" && files?.[0]) {\r\n-      const file = files[0];\r\n-      setPreview(URL.createObjectURL(file));\r\n-      setForm((prev) => ({ ...prev, profile_pic: file }));\r\n-    } else {\r\n-      setForm((prev) => ({ ...prev, [name]: value }));\r\n-    }\r\n-  };\r\n-\r\n-  const handleSubmit = async (e: React.FormEvent) => {\r\n-    e.preventDefault();\r\n-    setError(null);\r\n-    setSuccess(null);\r\n-\r\n-    for (const key in form) {\r\n-      if (!form[key as keyof typeof form]) {\r\n-        setError(`Please fill in the ${key.replace(\"_\", \" \")}`);\r\n-        return;\r\n-      }\r\n-    }\r\n-\r\n-    setLoading(true);\r\n-\r\n-    try {\r\n-      const formData = new FormData();\r\n-      for (const key in form) {\r\n-        formData.append(key, form[key as keyof typeof form] as any);\r\n-      }\r\n-\r\n-      await axiosWithCsrf.post(\"/api/edit-profile/\", formData, {\r\n-        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n-      });\r\n-\r\n-      setSuccess(\"Profile updated successfully!\");\r\n-    } catch (err: any) {\r\n-      setError(err.response?.data?.message || \"Profile update failed.\");\r\n-    } finally {\r\n-      setLoading(false);\r\n-    }\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"max-w-xl mx-auto p-6 bg-white shadow-md rounded-lg mt-1.5\">\r\n-      <h1 className=\"text-3xl font-bold text-center text-blue-700 mb-6\">\r\n-        Edit Profile\r\n-      </h1>\r\n-      <BackButton />\r\n-\r\n-      {error && <p className=\"text-red-500 text-center mb-4\">{error}</p>}\r\n-      {success && <p className=\"text-green-600 text-center mb-4\">{success}</p>}\r\n-\r\n-      {/* Profile Pic Upload Box */}\r\n-      <div className=\"flex justify-center mb-6\">\r\n-        <div className=\"flex justify-center bg-gray-50 p-2.5 shadow-md rounded-xl\">\r\n-          <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xl cursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n-            {preview ? (\r\n-              <img\r\n-                src={preview}\r\n-                alt=\"Preview\"\r\n-                className=\"object-cover w-full h-full\"\r\n-              />\r\n-            ) : (\r\n-              <div className=\"flex items-center justify-center w-full h-full text-gray-400\">\r\n-                <CameraIcon size={40} />\r\n-              </div>\r\n-            )}\r\n-            <input\r\n-              type=\"file\"\r\n-              name=\"profile_pic\"\r\n-              accept=\"image/*\"\r\n-              onChange={handleChange}\r\n-              className=\"absolute inset-0 opacity-0 cursor-pointer\"\r\n-            />\r\n-          </label>\r\n-        </div>\r\n-      </div>\r\n-\r\n-      {/* Form */}\r\n-      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n-        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"full_name\"\r\n-            placeholder=\"Full Name\"\r\n-            value={form.full_name}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"lcid\"\r\n-            placeholder=\"LCID\"\r\n-            value={form.lcid}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"phone_number\"\r\n-            placeholder=\"Phone Number\"\r\n-            value={form.phone_number}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"section\"\r\n-            placeholder=\"Section\"\r\n-            value={form.section}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"faculty\"\r\n-            placeholder=\"Faculty\"\r\n-            value={form.faculty}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"program\"\r\n-            placeholder=\"Program\"\r\n-            value={form.program}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-        </div>\r\n-\r\n-        <button\r\n-          type=\"submit\"\r\n-          disabled={loading}\r\n-          className=\"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition\"\r\n-        >\r\n-          {loading ? \"Updating...\" : \"Update Profile\"}\r\n-        </button>\r\n-      </form>\r\n-    </div>\r\n-  );\r\n-}\r\n-\"use client\";\r\n-\r\n-import { useEffect, useState } from \"react\";\r\n-import { axiosWithCsrf } from \"@/lib/axiosWithCsrf\";\r\n-import { useRouter } from \"next/navigation\";\r\n-import BackButton from \"@/components/BackButton\";\r\n-import { CameraIcon } from \"lucide-react\";\r\n-\r\n-export default function EditProfilePage() {\r\n-  const [form, setForm] = useState({\r\n-    full_name: \"\",\r\n-    lcid: \"\",\r\n-    phone_number: \"\",\r\n-    section: \"\",\r\n-    faculty: \"\",\r\n-    program: \"\",\r\n-    profile_pic: null as File | null,\r\n-  });\r\n-\r\n-  const [preview, setPreview] = useState<string | null>(null);\r\n-  const [loading, setLoading] = useState(false);\r\n-  const [error, setError] = useState<string | null>(null);\r\n-  const [success, setSuccess] = useState<string | null>(null);\r\n-  const BASE_URL = process.env.NEXT_PUBLIC_API_URL;\r\n-\r\n-\r\n-  // Fetch and populate existing profile data\r\n-  useEffect(() => {\r\n-    const fetchProfile = async () => {\r\n-      try {\r\n-        const res = await axiosWithCsrf.get(\"/api/get-profile/\");\r\n-        const data = res.data;\r\n-\r\n-        setForm((prev) => ({\r\n-          ...prev,\r\n-          full_name: data.full_name || \"\",\r\n-          lcid: data.lcid || \"\",\r\n-          phone_number: data.phone_number || \"\",\r\n-          section: data.section || \"\",\r\n-          faculty: data.faculty || \"\",\r\n-          program: data.program || \"\",\r\n-        }));\r\n-\r\n-        if (data.profile_pic) {\r\n-          setPreview(BASE_URL + data.profile_pic); // Use existing profile pic URL\r\n-        }\r\n-      } catch (err: any) {\r\n-        setError(\"Failed to fetch profile.\");\r\n-      }\r\n-    };\r\n-\r\n-    fetchProfile();\r\n-  }, []);\r\n-\r\n-  const handleChange = (\r\n-    e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>\r\n-  ) => {\r\n-    const { name, value, files } = e.target as any;\r\n-\r\n-    if (name === \"profile_pic\" && files?.[0]) {\r\n-      const file = files[0];\r\n-      setPreview(URL.createObjectURL(file));\r\n-      setForm((prev) => ({ ...prev, profile_pic: file }));\r\n-    } else {\r\n-      setForm((prev) => ({ ...prev, [name]: value }));\r\n-    }\r\n-  };\r\n-\r\n-  const handleSubmit = async (e: React.FormEvent) => {\r\n-    e.preventDefault();\r\n-    setError(null);\r\n-    setSuccess(null);\r\n-\r\n-    for (const key in form) {\r\n-      if (!form[key as keyof typeof form]) {\r\n-        setError(`Please fill in the ${key.replace(\"_\", \" \")}`);\r\n-        return;\r\n-      }\r\n-    }\r\n-\r\n-    setLoading(true);\r\n-\r\n-    try {\r\n-      const formData = new FormData();\r\n-      for (const key in form) {\r\n-        formData.append(key, form[key as keyof typeof form] as any);\r\n-      }\r\n-\r\n-      await axiosWithCsrf.post(\"/api/edit-profile/\", formData, {\r\n-        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n-      });\r\n-\r\n-      setSuccess(\"Profile updated successfully!\");\r\n-    } catch (err: any) {\r\n-      setError(err.response?.data?.message || \"Profile update failed.\");\r\n-    } finally {\r\n-      setLoading(false);\r\n-    }\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"max-w-xl mx-auto p-6 bg-white shadow-md rounded-lg mt-1.5\">\r\n-      <h1 className=\"text-3xl font-bold text-center text-blue-700 mb-6\">\r\n-        Edit Profile\r\n-      </h1>\r\n-      <BackButton />\r\n-\r\n-      {error && <p className=\"text-red-500 text-center mb-4\">{error}</p>}\r\n-      {success && <p className=\"text-green-600 text-center mb-4\">{success}</p>}\r\n-\r\n-      {/* Profile Pic Upload Box */}\r\n-      <div className=\"flex justify-center mb-6\">\r\n-        <div className=\"flex justify-center bg-gray-50 p-2.5 shadow-md rounded-xl\">\r\n-          <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xl cursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n-            {preview ? (\r\n-              <img\r\n-                src={preview}\r\n-                alt=\"Preview\"\r\n-                className=\"object-cover w-full h-full\"\r\n-              />\r\n-            ) : (\r\n-              <div className=\"flex items-center justify-center w-full h-full text-gray-400\">\r\n-                <CameraIcon size={40} />\r\n-              </div>\r\n-            )}\r\n-            <input\r\n-              type=\"file\"\r\n-              name=\"profile_pic\"\r\n-              accept=\"image/*\"\r\n-              onChange={handleChange}\r\n-              className=\"absolute inset-0 opacity-0 cursor-pointer\"\r\n-            />\r\n-          </label>\r\n-        </div>\r\n-      </div>\r\n-\r\n-      {/* Form */}\r\n-      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n-        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"full_name\"\r\n-            placeholder=\"Full Name\"\r\n-            value={form.full_name}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"lcid\"\r\n-            placeholder=\"LCID\"\r\n-            value={form.lcid}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"phone_number\"\r\n-            placeholder=\"Phone Number\"\r\n-            value={form.phone_number}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"section\"\r\n-            placeholder=\"Section\"\r\n-            value={form.section}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"faculty\"\r\n-            placeholder=\"Faculty\"\r\n-            value={form.faculty}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"program\"\r\n-            placeholder=\"Program\"\r\n-            value={form.program}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-        </div>\r\n-\r\n-        <button\r\n-          type=\"submit\"\r\n-          disabled={loading}\r\n-          className=\"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition\"\r\n-        >\r\n-          {loading ? \"Updating...\" : \"Update Profile\"}\r\n-        </button>\r\n-      </form>\r\n-    </div>\r\n-  );\r\n-}\r\n"
                },
                {
                    "date": 1749110355928,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,220 @@\n+\"use client\";\r\n+\r\n+import { useEffect, useState } from \"react\";\r\n+import { axiosWithCsrf } from \"@/lib/axiosWithCsrf\";\r\n+import { useRouter } from \"next/navigation\";\r\n+import BackButton from \"@/components/BackButton\";\r\n+import { CameraIcon } from \"lucide-react\";\r\n+\r\n+export default function EditProfilePage() {\r\n+  const [form, setForm] = useState({\r\n+    full_name: \"\",\r\n+    lcid: \"\",\r\n+    phone_number: \"\",\r\n+    section: \"\",\r\n+    faculty: \"\",\r\n+    program: \"\",\r\n+    profile_pic: null as File | null,\r\n+  });\r\n+\r\n+  const [preview, setPreview] = useState<string | null>(null);\r\n+  const [existingProfilePicUrl, setExistingProfilePicUrl] = useState<string | null>(null);\r\n+  const [loading, setLoading] = useState(false);\r\n+  const [error, setError] = useState<string | null>(null);\r\n+  const [success, setSuccess] = useState<string | null>(null);\r\n+  const BASE_URL = process.env.NEXT_PUBLIC_API_URL;\r\n+\r\n+  useEffect(() => {\r\n+    const fetchProfile = async () => {\r\n+      try {\r\n+        const res = await axiosWithCsrf.get(\"/api/get-profile/\");\r\n+        const data = res.data;\r\n+\r\n+        setForm((prev) => ({\r\n+          ...prev,\r\n+          full_name: data.full_name || \"\",\r\n+          lcid: data.lcid || \"\",\r\n+          phone_number: data.phone_number || \"\",\r\n+          section: data.section || \"\",\r\n+          faculty: data.faculty || \"\",\r\n+          program: data.program || \"\",\r\n+        }));\r\n+\r\n+        if (data.profile_pic) {\r\n+          const fullUrl = BASE_URL + data.profile_pic;\r\n+          setPreview(fullUrl);\r\n+          setExistingProfilePicUrl(fullUrl);\r\n+        }\r\n+      } catch (err: any) {\r\n+        setError(\"Failed to fetch profile.\");\r\n+      }\r\n+    };\r\n+\r\n+    fetchProfile();\r\n+  }, []);\r\n+\r\n+  const handleChange = (\r\n+    e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>\r\n+  ) => {\r\n+    const { name, value, files } = e.target as any;\r\n+\r\n+    if (name === \"profile_pic\" && files?.[0]) {\r\n+      const file = files[0];\r\n+      setPreview(URL.createObjectURL(file));\r\n+      setForm((prev) => ({ ...prev, profile_pic: file }));\r\n+    } else {\r\n+      setForm((prev) => ({ ...prev, [name]: value }));\r\n+    }\r\n+  };\r\n+\r\n+  const handleSubmit = async (e: React.FormEvent) => {\r\n+    e.preventDefault();\r\n+    setError(null);\r\n+    setSuccess(null);\r\n+\r\n+    for (const key in form) {\r\n+      if (key === \"profile_pic\") {\r\n+        if (!form.profile_pic && !existingProfilePicUrl) {\r\n+          setError(\"Please upload a profile picture.\");\r\n+          return;\r\n+        }\r\n+      } else {\r\n+        if (!form[key as keyof typeof form]) {\r\n+          setError(`Please fill in the ${key.replace(\"_\", \" \")}`);\r\n+          return;\r\n+        }\r\n+      }\r\n+    }\r\n+\r\n+    setLoading(true);\r\n+\r\n+    try {\r\n+      const formData = new FormData();\r\n+      for (const key in form) {\r\n+        if (key === \"profile_pic\") {\r\n+          if (form.profile_pic) {\r\n+            formData.append(key, form.profile_pic);\r\n+          }\r\n+        } else {\r\n+          formData.append(key, form[key as keyof typeof form]);\r\n+        }\r\n+      }\r\n+\r\n+      await axiosWithCsrf.post(\"/api/edit-profile/\", formData, {\r\n+        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n+      });\r\n+\r\n+      setSuccess(\"Profile updated successfully!\");\r\n+    } catch (err: any) {\r\n+      setError(err.response?.data?.message || \"Profile update failed.\");\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"max-w-xl mx-auto p-6 bg-white shadow-md rounded-lg mt-1.5\">\r\n+      <h1 className=\"text-3xl font-bold text-center text-blue-700 mb-6\">\r\n+        Edit Profile\r\n+      </h1>\r\n+      <BackButton />\r\n+\r\n+      {error && <p className=\"text-red-500 text-center mb-4\">{error}</p>}\r\n+      {success && <p className=\"text-green-600 text-center mb-4\">{success}</p>}\r\n+\r\n+      {/* Profile Pic Upload Box */}\r\n+      <div className=\"flex justify-center mb-6\">\r\n+        <div className=\"flex justify-center bg-gray-50 p-2.5 shadow-md rounded-xl\">\r\n+          <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xl cursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n+            {preview ? (\r\n+              <img\r\n+                src={preview}\r\n+                alt=\"Preview\"\r\n+                className=\"object-cover w-full h-full\"\r\n+              />\r\n+            ) : (\r\n+              <div className=\"flex items-center justify-center w-full h-full text-gray-400\">\r\n+                <CameraIcon size={40} />\r\n+              </div>\r\n+            )}\r\n+            <input\r\n+              type=\"file\"\r\n+              name=\"profile_pic\"\r\n+              accept=\"image/*\"\r\n+              onChange={handleChange}\r\n+              className=\"absolute inset-0 opacity-0 cursor-pointer\"\r\n+            />\r\n+          </label>\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Form */}\r\n+      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n+        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"full_name\"\r\n+            placeholder=\"Full Name\"\r\n+            value={form.full_name}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"lcid\"\r\n+            placeholder=\"LCID\"\r\n+            value={form.lcid}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"phone_number\"\r\n+            placeholder=\"Phone Number\"\r\n+            value={form.phone_number}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"section\"\r\n+            placeholder=\"Section\"\r\n+            value={form.section}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"faculty\"\r\n+            placeholder=\"Faculty\"\r\n+            value={form.faculty}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"program\"\r\n+            placeholder=\"Program\"\r\n+            value={form.program}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+        </div>\r\n+\r\n+        <button\r\n+          type=\"submit\"\r\n+          disabled={loading}\r\n+          className=\"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition\"\r\n+        >\r\n+          {loading ? \"Updating...\" : \"Update Profile\"}\r\n+        </button>\r\n+      </form>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1749110455719,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,14 +17,14 @@\n     profile_pic: null as File | null,\r\n   });\r\n \r\n   const [preview, setPreview] = useState<string | null>(null);\r\n-  const [existingProfilePicUrl, setExistingProfilePicUrl] = useState<string | null>(null);\r\n   const [loading, setLoading] = useState(false);\r\n   const [error, setError] = useState<string | null>(null);\r\n   const [success, setSuccess] = useState<string | null>(null);\r\n   const BASE_URL = process.env.NEXT_PUBLIC_API_URL;\r\n \r\n+  // Fetch and populate existing profile data\r\n   useEffect(() => {\r\n     const fetchProfile = async () => {\r\n       try {\r\n         const res = await axiosWithCsrf.get(\"/api/get-profile/\");\r\n@@ -40,13 +40,11 @@\n           program: data.program || \"\",\r\n         }));\r\n \r\n         if (data.profile_pic) {\r\n-          const fullUrl = BASE_URL + data.profile_pic;\r\n-          setPreview(fullUrl);\r\n-          setExistingProfilePicUrl(fullUrl);\r\n+          setPreview(BASE_URL + data.profile_pic);\r\n         }\r\n-      } catch (err: any) {\r\n+      } catch (err) {\r\n         setError(\"Failed to fetch profile.\");\r\n       }\r\n     };\r\n \r\n@@ -71,33 +69,28 @@\n     e.preventDefault();\r\n     setError(null);\r\n     setSuccess(null);\r\n \r\n+    // Basic validation\r\n     for (const key in form) {\r\n-      if (key === \"profile_pic\") {\r\n-        if (!form.profile_pic && !existingProfilePicUrl) {\r\n-          setError(\"Please upload a profile picture.\");\r\n-          return;\r\n-        }\r\n-      } else {\r\n-        if (!form[key as keyof typeof form]) {\r\n-          setError(`Please fill in the ${key.replace(\"_\", \" \")}`);\r\n-          return;\r\n-        }\r\n+      if (key !== \"profile_pic\" && !form[key as keyof typeof form]) {\r\n+        setError(`Please fill in the ${key.replace(\"_\", \" \")}`);\r\n+        return;\r\n       }\r\n     }\r\n \r\n     setLoading(true);\r\n \r\n     try {\r\n       const formData = new FormData();\r\n       for (const key in form) {\r\n-        if (key === \"profile_pic\") {\r\n-          if (form.profile_pic) {\r\n-            formData.append(key, form.profile_pic);\r\n+        if (key === \"profile_pic\" && form.profile_pic) {\r\n+          formData.append(\"profile_pic\", form.profile_pic);\r\n+        } else {\r\n+          const value = form[key as keyof typeof form];\r\n+          if (typeof value === \"string\") {\r\n+            formData.append(key, value);\r\n           }\r\n-        } else {\r\n-          formData.append(key, form[key as keyof typeof form]);\r\n         }\r\n       }\r\n \r\n       await axiosWithCsrf.post(\"/api/edit-profile/\", formData, {\r\n@@ -217,219 +210,4 @@\n       </form>\r\n     </div>\r\n   );\r\n }\r\n-\"use client\";\r\n-\r\n-import { useEffect, useState } from \"react\";\r\n-import { axiosWithCsrf } from \"@/lib/axiosWithCsrf\";\r\n-import { useRouter } from \"next/navigation\";\r\n-import BackButton from \"@/components/BackButton\";\r\n-import { CameraIcon } from \"lucide-react\";\r\n-\r\n-export default function EditProfilePage() {\r\n-  const [form, setForm] = useState({\r\n-    full_name: \"\",\r\n-    lcid: \"\",\r\n-    phone_number: \"\",\r\n-    section: \"\",\r\n-    faculty: \"\",\r\n-    program: \"\",\r\n-    profile_pic: null as File | null,\r\n-  });\r\n-\r\n-  const [preview, setPreview] = useState<string | null>(null);\r\n-  const [loading, setLoading] = useState(false);\r\n-  const [error, setError] = useState<string | null>(null);\r\n-  const [success, setSuccess] = useState<string | null>(null);\r\n-  const BASE_URL = process.env.NEXT_PUBLIC_API_URL;\r\n-\r\n-\r\n-  // Fetch and populate existing profile data\r\n-  useEffect(() => {\r\n-    const fetchProfile = async () => {\r\n-      try {\r\n-        const res = await axiosWithCsrf.get(\"/api/get-profile/\");\r\n-        const data = res.data;\r\n-\r\n-        setForm((prev) => ({\r\n-          ...prev,\r\n-          full_name: data.full_name || \"\",\r\n-          lcid: data.lcid || \"\",\r\n-          phone_number: data.phone_number || \"\",\r\n-          section: data.section || \"\",\r\n-          faculty: data.faculty || \"\",\r\n-          program: data.program || \"\",\r\n-        }));\r\n-\r\n-        if (data.profile_pic) {\r\n-          setPreview(BASE_URL + data.profile_pic); // Use existing profile pic URL\r\n-        }\r\n-      } catch (err: any) {\r\n-        setError(\"Failed to fetch profile.\");\r\n-      }\r\n-    };\r\n-\r\n-    fetchProfile();\r\n-  }, []);\r\n-\r\n-  const handleChange = (\r\n-    e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>\r\n-  ) => {\r\n-    const { name, value, files } = e.target as any;\r\n-\r\n-    if (name === \"profile_pic\" && files?.[0]) {\r\n-      const file = files[0];\r\n-      setPreview(URL.createObjectURL(file));\r\n-      setForm((prev) => ({ ...prev, profile_pic: file }));\r\n-    } else {\r\n-      setForm((prev) => ({ ...prev, [name]: value }));\r\n-    }\r\n-  };\r\n-\r\n-  const handleSubmit = async (e: React.FormEvent) => {\r\n-    e.preventDefault();\r\n-    setError(null);\r\n-    setSuccess(null);\r\n-\r\n-    for (const key in form) {\r\n-  // Skip profile_pic validation if no new file selected but preview exists (means old pic is present)\r\n-  if (key === \"profile_pic\") {\r\n-    if (!form.profile_pic && !preview) {\r\n-      setError(\"Please upload a profile picture\");\r\n-      return;\r\n-    }\r\n-  } else {\r\n-    if (!form[key as keyof typeof form]) {\r\n-      setError(`Please fill in the ${key.replace(\"_\", \" \")}`);\r\n-      return;\r\n-    }\r\n-  }\r\n-}\r\n-\r\n-\r\n-    setLoading(true);\r\n-\r\n-    try {\r\n-      const formData = new FormData();\r\n-      for (const key in form) {\r\n-        formData.append(key, form[key as keyof typeof form] as any);\r\n-      }\r\n-\r\n-      await axiosWithCsrf.post(\"/api/edit-profile/\", formData, {\r\n-        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n-      });\r\n-\r\n-      setSuccess(\"Profile updated successfully!\");\r\n-    } catch (err: any) {\r\n-      setError(err.response?.data?.message || \"Profile update failed.\");\r\n-    } finally {\r\n-      setLoading(false);\r\n-    }\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"max-w-xl mx-auto p-6 bg-white shadow-md rounded-lg mt-1.5\">\r\n-      <h1 className=\"text-3xl font-bold text-center text-blue-700 mb-6\">\r\n-        Edit Profile\r\n-      </h1>\r\n-      <BackButton />\r\n-\r\n-      {error && <p className=\"text-red-500 text-center mb-4\">{error}</p>}\r\n-      {success && <p className=\"text-green-600 text-center mb-4\">{success}</p>}\r\n-\r\n-      {/* Profile Pic Upload Box */}\r\n-      <div className=\"flex justify-center mb-6\">\r\n-        <div className=\"flex justify-center bg-gray-50 p-2.5 shadow-md rounded-xl\">\r\n-          <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xl cursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n-            {preview ? (\r\n-              <img\r\n-                src={preview}\r\n-                alt=\"Preview\"\r\n-                className=\"object-cover w-full h-full\"\r\n-              />\r\n-            ) : (\r\n-              <div className=\"flex items-center justify-center w-full h-full text-gray-400\">\r\n-                <CameraIcon size={40} />\r\n-              </div>\r\n-            )}\r\n-            <input\r\n-              type=\"file\"\r\n-              name=\"profile_pic\"\r\n-              accept=\"image/*\"\r\n-              onChange={handleChange}\r\n-              className=\"absolute inset-0 opacity-0 cursor-pointer\"\r\n-            />\r\n-          </label>\r\n-        </div>\r\n-      </div>\r\n-\r\n-      {/* Form */}\r\n-      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n-        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"full_name\"\r\n-            placeholder=\"Full Name\"\r\n-            value={form.full_name}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"lcid\"\r\n-            placeholder=\"LCID\"\r\n-            value={form.lcid}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"phone_number\"\r\n-            placeholder=\"Phone Number\"\r\n-            value={form.phone_number}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"section\"\r\n-            placeholder=\"Section\"\r\n-            value={form.section}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"faculty\"\r\n-            placeholder=\"Faculty\"\r\n-            value={form.faculty}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-          <input\r\n-            type=\"text\"\r\n-            name=\"program\"\r\n-            placeholder=\"Program\"\r\n-            value={form.program}\r\n-            onChange={handleChange}\r\n-            required\r\n-            className=\"border border-gray-300 rounded-lg p-2\"\r\n-          />\r\n-        </div>\r\n-\r\n-        <button\r\n-          type=\"submit\"\r\n-          disabled={loading}\r\n-          className=\"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition\"\r\n-        >\r\n-          {loading ? \"Updating...\" : \"Update Profile\"}\r\n-        </button>\r\n-      </form>\r\n-    </div>\r\n-  );\r\n-}\r\n"
                },
                {
                    "date": 1749110555248,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,213 @@\n+\"use client\";\r\n+\r\n+import { useEffect, useState } from \"react\";\r\n+import { axiosWithCsrf } from \"@/lib/axiosWithCsrf\";\r\n+import { useRouter } from \"next/navigation\";\r\n+import BackButton from \"@/components/BackButton\";\r\n+import { CameraIcon } from \"lucide-react\";\r\n+\r\n+export default function EditProfilePage() {\r\n+  const [form, setForm] = useState({\r\n+    full_name: \"\",\r\n+    lcid: \"\",\r\n+    phone_number: \"\",\r\n+    section: \"\",\r\n+    faculty: \"\",\r\n+    program: \"\",\r\n+    profile_pic: null as File | null,\r\n+  });\r\n+\r\n+  const [preview, setPreview] = useState<string | null>(null);\r\n+  const [loading, setLoading] = useState(false);\r\n+  const [error, setError] = useState<string | null>(null);\r\n+  const [success, setSuccess] = useState<string | null>(null);\r\n+  const BASE_URL = process.env.NEXT_PUBLIC_API_URL;\r\n+\r\n+  // Fetch and populate existing profile data\r\n+  useEffect(() => {\r\n+    const fetchProfile = async () => {\r\n+      try {\r\n+        const res = await axiosWithCsrf.get(\"/api/get-profile/\");\r\n+        const data = res.data;\r\n+\r\n+        setForm((prev) => ({\r\n+          ...prev,\r\n+          full_name: data.full_name || \"\",\r\n+          lcid: data.lcid || \"\",\r\n+          phone_number: data.phone_number || \"\",\r\n+          section: data.section || \"\",\r\n+          faculty: data.faculty || \"\",\r\n+          program: data.program || \"\",\r\n+        }));\r\n+\r\n+        if (data.profile_pic) {\r\n+          setPreview(BASE_URL + data.profile_pic);\r\n+        }\r\n+      } catch (err) {\r\n+        setError(\"Failed to fetch profile.\");\r\n+      }\r\n+    };\r\n+\r\n+    fetchProfile();\r\n+  }, []);\r\n+\r\n+  const handleChange = (\r\n+    e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>\r\n+  ) => {\r\n+    const { name, value, files } = e.target as any;\r\n+\r\n+    if (name === \"profile_pic\" && files?.[0]) {\r\n+      const file = files[0];\r\n+      setPreview(URL.createObjectURL(file));\r\n+      setForm((prev) => ({ ...prev, profile_pic: file }));\r\n+    } else {\r\n+      setForm((prev) => ({ ...prev, [name]: value }));\r\n+    }\r\n+  };\r\n+\r\n+  const handleSubmit = async (e: React.FormEvent) => {\r\n+    e.preventDefault();\r\n+    setError(null);\r\n+    setSuccess(null);\r\n+\r\n+    // Basic validation\r\n+    for (const key in form) {\r\n+      if (key !== \"profile_pic\" && !form[key as keyof typeof form]) {\r\n+        setError(`Please fill in the ${key.replace(\"_\", \" \")}`);\r\n+        return;\r\n+      }\r\n+    }\r\n+\r\n+    setLoading(true);\r\n+\r\n+    try {\r\n+      const formData = new FormData();\r\n+      for (const key in form) {\r\n+        if (key === \"profile_pic\" && form.profile_pic) {\r\n+          formData.append(\"profile_pic\", form.profile_pic);\r\n+        } else {\r\n+          const value = form[key as keyof typeof form];\r\n+          if (typeof value === \"string\") {\r\n+            formData.append(key, value);\r\n+          }\r\n+        }\r\n+      }\r\n+\r\n+      await axiosWithCsrf.post(\"/api/edit-profile/\", formData, {\r\n+        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n+      });\r\n+\r\n+      setSuccess(\"Profile updated successfully!\");\r\n+    } catch (err: any) {\r\n+      setError(err.response?.data?.message || \"Profile update failed.\");\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"max-w-xl mx-auto p-6 bg-white shadow-md rounded-lg mt-1.5\">\r\n+      <h1 className=\"text-3xl font-bold text-center text-blue-700 mb-6\">\r\n+        Edit Profile\r\n+      </h1>\r\n+      <BackButton />\r\n+\r\n+      {error && <p className=\"text-red-500 text-center mb-4\">{error}</p>}\r\n+      {success && <p className=\"text-green-600 text-center mb-4\">{success}</p>}\r\n+\r\n+      {/* Profile Pic Upload Box */}\r\n+      <div className=\"flex justify-center mb-6\">\r\n+        <div className=\"flex justify-center bg-gray-50 p-2.5 shadow-md rounded-xl\">\r\n+          <label className=\"relative w-40 h-40 border-2 border-dashed rounded-xl cursor-pointer overflow-hidden bg-gray-50 hover:bg-gray-100 transition\">\r\n+            {preview ? (\r\n+              <img\r\n+                src={preview}\r\n+                alt=\"Preview\"\r\n+                className=\"object-cover w-full h-full\"\r\n+              />\r\n+            ) : (\r\n+              <div className=\"flex items-center justify-center w-full h-full text-gray-400\">\r\n+                <CameraIcon size={40} />\r\n+              </div>\r\n+            )}\r\n+            <input\r\n+              type=\"file\"\r\n+              name=\"profile_pic\"\r\n+              accept=\"image/*\"\r\n+              onChange={handleChange}\r\n+              className=\"absolute inset-0 opacity-0 cursor-pointer\"\r\n+            />\r\n+          </label>\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Form */}\r\n+      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n+        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"full_name\"\r\n+            placeholder=\"Full Name\"\r\n+            value={form.full_name}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"lcid\"\r\n+            placeholder=\"LCID\"\r\n+            value={form.lcid}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"phone_number\"\r\n+            placeholder=\"Phone Number\"\r\n+            value={form.phone_number}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"section\"\r\n+            placeholder=\"Section\"\r\n+            value={form.section}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"faculty\"\r\n+            placeholder=\"Faculty\"\r\n+            value={form.faculty}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"program\"\r\n+            placeholder=\"Program\"\r\n+            value={form.program}\r\n+            onChange={handleChange}\r\n+            required\r\n+            className=\"border border-gray-300 rounded-lg p-2\"\r\n+          />\r\n+        </div>\r\n+\r\n+        <button\r\n+          type=\"submit\"\r\n+          disabled={loading}\r\n+          className=\"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition\"\r\n+        >\r\n+          {loading ? \"Updating...\" : \"Update Profile\"}\r\n+        </button>\r\n+      </form>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                }
            ],
            "date": 1749105085312,
            "name": "Commit-0",
            "content": "'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { axiosWithCsrf } from '@/lib/axiosWithCsrf';\r\nimport { useRouter } from 'next/navigation';\r\nimport BackButton from '@/components/BackButton';\r\n\r\nexport default function EditProfilePage() {\r\n  const [form, setForm] = useState({\r\n    full_name: '',\r\n    lcid: '',\r\n    email: '',\r\n    phone: '',\r\n    section: '',\r\n    faculty: '',\r\n    program: '',\r\n    profile_pic: null as File | null,\r\n  });\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [success, setSuccess] = useState<string | null>(null);\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n    const { name, value, files } = e.target as any;\r\n    setForm(prev => ({\r\n      ...prev,\r\n      [name]: files ? files[0] : value,\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError(null);\r\n    setSuccess(null);\r\n\r\n    try {\r\n      const formData = new FormData();\r\n      for (const key in form) {\r\n        if (form[key as keyof typeof form]) {\r\n          formData.append(key, form[key as keyof typeof form] as any);\r\n        }\r\n      }\r\n\r\n      const res = await axiosWithCsrf.post('/api/profile/update/', formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n      });\r\n\r\n      setSuccess('Profile updated successfully!');\r\n    } catch (err: any) {\r\n      setError(err.response?.data?.message || 'Profile update failed.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-3xl mx-auto px-4 py-6\">\r\n      <h1 className=\"text-2xl font-bold mb-4 text-blue-700\">Edit Profile</h1>\r\n\r\n      <BackButton />\r\n\r\n      {error && <p className=\"text-red-500 mb-4\">{error}</p>}\r\n      {success && <p className=\"text-green-600 mb-4\">{success}</p>}\r\n\r\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n        <input type=\"text\" name=\"full_name\" placeholder=\"Full Name\" value={form.full_name} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n\r\n        <input type=\"text\" name=\"lcid\" placeholder=\"LCID\" value={form.lcid} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n\r\n        <input type=\"email\" name=\"email\" placeholder=\"Email\" value={form.email} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n\r\n        <input type=\"text\" name=\"phone\" placeholder=\"Phone Number\" value={form.phone} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n\r\n        <input type=\"text\" name=\"section\" placeholder=\"Section\" value={form.section} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n\r\n        <input type=\"text\" name=\"faculty\" placeholder=\"Faculty\" value={form.faculty} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n\r\n        <input type=\"text\" name=\"program\" placeholder=\"Program\" value={form.program} onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n\r\n        <input type=\"file\" name=\"profile_pic\" accept=\"image/*\" onChange={handleChange} className=\"w-full border p-2 rounded\" />\r\n\r\n        <button type=\"submit\" disabled={loading} className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition\">\r\n          {loading ? 'Updating...' : 'Update Profile'}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"
        }
    ]
}